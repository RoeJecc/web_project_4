!function(){"use strict";var e={346:function(e,t,n){e.exports=n.p+"4e8e0a1d604782a0dff8.svg"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.p="",function(){var e={formSelector:".modal__profile",inputSelector:".modal__text-input",submitButtonSelector:".modal__form-submit",inactiveButtonClass:"modal__form-submit_disabled",inputErrorClass:".modal__text-input_type_error",errorClass:"modal__input-error_active"},t=document.querySelector(".profile__edit-button"),r=document.querySelector(".profile__add-button"),o=document.querySelector(".profile__avatar-button"),i=document.querySelector(".modal_type_profile"),a=document.querySelector(".modal_type_add-card"),u=document.querySelector(".profile__name"),s=document.querySelector(".profile__occupation"),l=(document.querySelector(".modal_type_delete-card"),document.forms.profile),c=l.elements.name,f=l.elements.occupation,h=(document.querySelector(".modal_type_preview"),document.querySelector(".modal__image"),document.querySelector(".profile__avatar")),p=document.querySelector(".modal__profile_avatar");function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _=function(){function e(t,n,r){var o=t.data,i=t.handleCardClick,a=t.handleDeleteClick,u=t.likeHandler;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=o.name,this._link=o.link,this._owner=o.owner,this._userId=n,this._likes=o.likes,this._template=r,this._id=o._id,this._handleDeleteClick=a,this._handleCardClick=i,this._likeHandler=u}var t,n;return t=e,(n=[{key:"id",value:function(){return this._id}},{key:"_getTemplate",value:function(){return document.querySelector(this._template).content.querySelector(".element").cloneNode(!0)}},{key:"isLiked",value:function(){var e=this;return this._likes.some((function(t){return t._id===e._userId}))}},{key:"showLikes",value:function(){this._cardLikes.textContent=this._likes.length,this.isLiked()?this._likeButton.classList.add("element__button_active"):this._likeButton.classList.remove("element__button_active")}},{key:"updateLikes",value:function(e){this._likes=e,this.showLikes()}},{key:"_showDeleteIcon",value:function(){this._owner._id===this._userId&&this._cardTrash.classList.add("element__delete-button_active")}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".element__button").addEventListener("click",(function(){return e._likeHandler(e,e._id)})),this._element.querySelector(".element__delete-button").addEventListener("click",(function(){return e._handleDeleteClick([e._id,e._element])})),this._element.querySelector(".element__image").addEventListener("click",(function(){return e._handleCardClick({name:e._name,link:e._link})}))}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._setEventListeners(),this._cardTrash=this._element.querySelector(".element__delete-button"),this._element.querySelector(".element__text").textContent=this._name,this._element.querySelector(".element__image").src=this._link,this._element.querySelector(".element__image").alt=this._name,this._element.id=this._id,this._cardLikes=this._element.querySelector(".element__likes"),this._likeButton=this._element.querySelector(".element__button"),this._showDeleteIcon(),this.showLikes(),this._element}}])&&d(t.prototype,n),e}();function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderer",value:function(e){var t=this;e.forEach((function(e){return t._container.append(t._renderer(e))}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&m(t.prototype,n),e}();function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupElement=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popupElement.classList.add("modal_open"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove("modal_open"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){27==e.which&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.addEventListener("click",(function(t){(t.target.classList.contains("modal__close-button")||t.target.classList.contains("modal_open"))&&e.close()}))}}])&&v(t.prototype,n),e}();function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return(S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=C(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=C(r);if(o){var n=C(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return w(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._image=t._popupElement.querySelector(".modal__image"),t._name=t._popupElement.querySelector(".modal__image-caption"),t}return t=a,(n=[{key:"open",value:function(e){var t=e.name,n=e.link;this._image.src=n,this._image.alt=t,this._name.textContent=t,S(C(a.prototype),"open",this).call(this)}}])&&g(t.prototype,n),a}(b);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t,n){return(P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=R(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?I(e):t}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=R(r);if(o){var n=R(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return T(this,e)});function a(e){var t,n=e.popupSelector,r=e.popupSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,n))._popupSubmit=r,t._formElement=t._popupElement.querySelector(".modal__profile"),t._submitEventHandler=t._submitEventHandler.bind(I(t)),t}return t=a,(n=[{key:"_getInputValues",value:function(){if(this._popupElement.querySelector(".modal__text-input")){var e=(t=this._popupElement.querySelectorAll(".modal__text-input"),function(e){if(Array.isArray(e))return O(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){return e.value}));return{name:e[0],link:e[1]}}var t}},{key:"_submitEventHandler",value:function(){var e=this._getInputValues()||this._info;this._popupSubmit(e),this.close()}},{key:"setEventListeners",value:function(){this._popupElement.addEventListener("submit",this._submitEventHandler),P(R(a.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){this._formElement.reset(),P(R(a.prototype),"close",this).call(this)}},{key:"open",value:function(e){P(R(a.prototype),"open",this).call(this),this._info=e}}])&&q(t.prototype,n),a}(b);function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var A=function(){function e(t){var n=t.name,r=t.link,o=t.avatar;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(n),this._occupation=document.querySelector(r),this._avatar=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return this.userInfo=[this._name.textContent,this._occupation.textContent,this._avatar.src]}},{key:"setUserInfo",value:function(e,t,n){this._name.textContent=e,this._occupation.textContent=t,this._avatar.src=n}}])&&B(t.prototype,n),e}();function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var H=function(){function e(t,n){var r,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=function(){i._inputs.forEach((function(e){e.addEventListener("input",(function(){i._checkInputValidity(e),i._toggleButtonState(i._element,i._inputSelector)}))}))},(r="_setEventListeners")in this?Object.defineProperty(this,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[r]=o,this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._element=n,this._inputs=Array.from(this._element.querySelectorAll(this._inputSelector)),this._button=this._element.querySelector(this._submitButtonSelector)}var t,n;return t=e,(n=[{key:"_showErrorMessage",value:function(e){var t=this._element.querySelector("#"+e.id+"-error");t.textContent=e.validationMessage,t.classList.add(this._errorClass),e.classList.add(this._inputErrorClass)}},{key:"_hideErrorMessage",value:function(e){var t=this._element.querySelector("#"+e.id+"-error");t.textContent="",t.classList.remove(this._errorClass),e.classList.remove(this._inputErrorClass)}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideErrorMessage(e):this._showErrorMessage(e,e.validationMessage)}},{key:"_toggleButtonState",value:function(){this._inputs.every((function(e){return e.validity.valid}))?(this._button.classList.remove(this._inactiveButtonClass),this._button.disabled=!1):(this._button.classList.add(this._inactiveButtonClass),this._button.disabled=!0)}},{key:"disableButton",value:function(){this._button.classList.add(this._inactiveButtonClass),this._button.disabled=!0}},{key:"enableValidation",value:function(){this._element.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners()}}])&&D(t.prototype,n),e}();function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var V=function(){function e(t){var n=t.baseURL,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseURL=n,this._headers=r}var t,n;return t=e,(n=[{key:"getInitialCards",value:function(){return fetch(this._baseURL+"/cards",{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error"+e.statusText)})).catch((function(e){return console.log(e)}))}},{key:"getUserInfo",value:function(){return fetch(this._baseURL+"/users/me",{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error"+e.statusText)})).catch((function(e){return console.log(e)}))}},{key:"getAppInfo",value:function(){return Promise.all([this.getUserInfo(),this.getInitialCards()])}},{key:"addCard",value:function(e){var t=e.name,n=e.link;return fetch(this._baseURL+"/cards",{headers:this._headers,method:"POST",body:JSON.stringify({name:t,link:n})}).then((function(e){return e.ok?e.json():Promise.reject("Error"+e.statusText)})).catch((function(e){return console.log(e)}))}},{key:"removeCard",value:function(e){return fetch(this._baseURL+"/cards/"+e,{headers:this._headers,method:"DELETE"}).then((function(e){return e.ok?e.json():Promise.reject("Error"+e.statusText)})).catch((function(e){return console.log(e)}))}},{key:"addLike",value:function(e){return fetch(this._baseURL+"/cards/likes/"+e,{headers:this._headers,method:"PUT"}).then((function(e){return e.ok?e.json():Promise.reject("Error"+e.statusText)})).catch((function(e){return console.log(e)}))}},{key:"removeLike",value:function(e){return fetch(this._baseURL+"/cards/likes/"+e,{headers:this._headers,method:"DELETE"}).then((function(e){return e.ok?e.json():Promise.reject("Error"+e.statusText)})).catch((function(e){return console.log(e)}))}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.about;return fetch(this._baseURL+"/users/me/",{method:"PATCH",headers:{authorization:"f3cf689f-e903-4b5b-9d77-2b0b4048d455","Content-Type":"application/json"},body:JSON.stringify({name:t,about:n})}).then((function(e){return e.ok?e.json():Promise.reject("Error"+e.statusText)})).catch((function(e){return console.log(e)}))}},{key:"setUserAvatar",value:function(e){return fetch(this._baseURL+"/users/me/avatar/",{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:e})}).then((function(e){return e.ok?e.json():Promise.reject("Error"+e.statusText)})).catch((function(e){return console.log(e)}))}}])&&M(t.prototype,n),e}(),N=n(346);function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}document.getElementById("vector-image").src=N;var $=new V({baseURL:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"f3cf689f-e903-4b5b-9d77-2b0b4048d455","Content-Type":"application/json"}}),F=new y({renderer:ee},".elements"),G=new H(e,i),K=new H(e,a),Q=new H(e,p);G.enableValidation(),K.enableValidation(),Q.enableValidation();var W=new A({name:".profile__name",link:".profile__occupation",avatar:".profile__avatar"}),X=new U({popupSelector:".modal_type_profile",popupSubmit:function(e){var t,n,r;t={name:e.name,link:e.link},n=t.name,r=t.link,re(!0),$.setUserInfo({name:n,about:r}).then((function(e){u.textContent=e.name,s.textContent=e.about,re(!1),X.close()})).catch((function(e){return console.log(e)}))}});X.setEventListeners(),t.addEventListener("click",(function(){var e=W.getUserInfo();c.value=e[0],f.value=e[1],X.open()}));var Y,Z=new L(".modal_type_preview");function ee(e){return new _({data:e,handleCardClick:function(e){var t=e.name,n=e.link;Z.open({name:t,link:n})},handleDeleteClick:function(e){ne.open(e)},likeHandler:function(e,t){!function(e,t){e.isLiked()?$.removeLike(t).then((function(t){e.updateLikes(t.likes)})).catch((function(e){return console.log(e)})):$.addLike(t).then((function(t){e.updateLikes(t.likes)})).catch((function(e){return console.log(e)}))}(e,t)}},Y,"#card-template").generateCard()}function te(e){event.preventDefault(),re(!0),$.setUserAvatar(e).then((function(e){h.src=e.avatar,re(!1),avatarPopup.close()})).catch((function(e){return console.log(e)}))}Z.setEventListeners(),$.getAppInfo().then((function(e){var t=J(e,2),n=t[0],i=t[1];Y=n._id,W.setUserInfo(n.name,n.about,n.avatar),F.renderer(i);var a=new U({popupSelector:".modal_type_add-card",popupSubmit:function(e){$.addCard(e).then((function(e){var t=ee(e);F.addItem(t)}))}});a.setEventListeners(),r.addEventListener("click",(function(){K.disableButton(),a.open()}));var u=new U({popupSelector:".modal_type_avatar",popupSubmit:function(e){te(e.name)}});u.setEventListeners(),o.addEventListener("click",(function(){Q.disableButton(),u.open()}))}));var ne=new U({popupSelector:".modal_type_delete-card",popupSubmit:function(e){var t=J(e,2),n=t[0],r=t[1];event.preventDefault(),re(!0),$.removeCard(n).then((function(){re(!1),ne.close(),r.remove()})).catch((function(e){return console.log(e)}))}});function re(e,t){document.querySelector(".modal__form-submit").textContent=e?"Saving...":"Save"}ne.setEventListeners()}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL3V0aWxzLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9DYXJkLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9BcGkuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsInAiLCJ2YWxpZGF0aW9uRm9ybSIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwib3BlbkVkaXRQcm9maWxlTW9kYWwiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRNb2RhbCIsImF2YXRhck1vZGFsIiwiZWRpdFByb2ZpbGVNb2RhbCIsImFkZE1vZGFsUG9wdXAiLCJwcm9maWxlTmFtZSIsInByb2ZpbGVPY2N1cGF0aW9uIiwicHJvZmlsZUZvcm0iLCJmb3JtcyIsInByb2ZpbGUiLCJwcm9maWxlRm9ybU5hbWVJbnB1dCIsImVsZW1lbnRzIiwibmFtZSIsInByb2ZpbGVGb3JtT2NjdXBhdGlvbklucHV0Iiwib2NjdXBhdGlvbiIsInByb2ZpbGVBdmF0YXIiLCJhdmF0YXJGb3JtIiwiQ2FyZCIsInVzZXJJZCIsInRlbXBsYXRlIiwiZGF0YSIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZURlbGV0ZUNsaWNrIiwibGlrZUhhbmRsZXIiLCJ0aGlzIiwiX25hbWUiLCJfbGluayIsImxpbmsiLCJfb3duZXIiLCJvd25lciIsIl91c2VySWQiLCJfbGlrZXMiLCJsaWtlcyIsIl90ZW1wbGF0ZSIsIl9pZCIsIl9oYW5kbGVEZWxldGVDbGljayIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfbGlrZUhhbmRsZXIiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwic29tZSIsIml0ZW0iLCJfY2FyZExpa2VzIiwidGV4dENvbnRlbnQiLCJsZW5ndGgiLCJpc0xpa2VkIiwiX2xpa2VCdXR0b24iLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJzaG93TGlrZXMiLCJfY2FyZFRyYXNoIiwiX2VsZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiX2dldFRlbXBsYXRlIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwic3JjIiwiYWx0IiwiaWQiLCJfc2hvd0RlbGV0ZUljb24iLCJjb250YWluZXIiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJjYXJkcyIsImZvckVhY2giLCJhcHBlbmQiLCJjYXJkRWxlbWVudCIsInByZXBlbmQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXBFbGVtZW50IiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJlIiwid2hpY2giLCJjbG9zZSIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoSW1hZ2UiLCJfaW1hZ2UiLCJQb3B1cFdpdGhGb3JtIiwicG9wdXBTdWJtaXQiLCJfcG9wdXBTdWJtaXQiLCJfZm9ybUVsZW1lbnQiLCJfc3VibWl0RXZlbnRIYW5kbGVyIiwib3VyQXJyYXkiLCJxdWVyeVNlbGVjdG9yQWxsIiwibWFwIiwiaW5wdXQiLCJ2YWx1ZSIsImlucHV0U3VibWl0VmFsdWUiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJfaW5mbyIsInJlc2V0IiwiY2FyZEluZm8iLCJVc2VySW5mbyIsImF2YXRhciIsIl9vY2N1cGF0aW9uIiwiX2F2YXRhciIsInVzZXJJbmZvIiwiRm9ybVZhbGlkYXRvciIsImNvbmZpZyIsImZvcm1FbGVtZW50IiwiX2lucHV0cyIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJfaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiQXJyYXkiLCJmcm9tIiwiX2J1dHRvbiIsImVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVFcnJvck1lc3NhZ2UiLCJfc2hvd0Vycm9yTWVzc2FnZSIsImV2ZXJ5IiwiZGlzYWJsZWQiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiQXBpIiwiYmFzZVVSTCIsImhlYWRlcnMiLCJfYmFzZVVSTCIsIl9oZWFkZXJzIiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1c1RleHQiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJhbGwiLCJnZXRVc2VySW5mbyIsImdldEluaXRpYWxDYXJkcyIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiY2FyZElEIiwiYWJvdXQiLCJhdXRob3JpemF0aW9uIiwiZ2V0RWxlbWVudEJ5SWQiLCJ2ZWN0b3JJbWciLCJhcGkiLCJjYXJkU2VjdGlvbiIsIlNlY3Rpb24iLCJyZW5kZXJDYXJkIiwiZWRpdEZvcm1WYWxpZGF0b3IiLCJjYXJkRm9ybVZhbGlkYXRvciIsImF2YXRhckZvcm1WYWxpZGF0b3IiLCJlbmFibGVWYWxpZGF0aW9uIiwiZWRpdFBvcHVwIiwibG9hZGluZ01vZGFsIiwic2V0VXNlckluZm8iLCJzZXRFdmVudExpc3RlbmVycyIsInVzZXJEYXRhIiwib3BlbiIsImltYWdlUG9wdXAiLCJkZWxldGVQb3B1cCIsInJlbW92ZUxpa2UiLCJ1cGRhdGVMaWtlcyIsImFkZExpa2UiLCJjYXJkTGlrZUNvdW50ZXIiLCJnZW5lcmF0ZUNhcmQiLCJoYW5kbGVBdmF0YXIiLCJzZXRVc2VyQXZhdGFyIiwiYXZhdGFyUG9wdXAiLCJnZXRBcHBJbmZvIiwiY2FyZExpc3REZXRhaWwiLCJhZGRDYXJkUG9wdXAiLCJhZGRDYXJkIiwibmV3Q2FyZCIsImFkZEl0ZW0iLCJkaXNhYmxlQnV0dG9uIiwiZWxlbWVudCIsInJlbW92ZUNhcmQiLCJpc0xvYWRpbmciLCJtb2RhbCJdLCJtYXBwaW5ncyI6IitGQUNJQSxFQUEyQixHQUcvQixTQUFTQyxFQUFvQkMsR0FFNUIsSUFBSUMsRUFBZUgsRUFBeUJFLEdBQzVDLFFBQXFCRSxJQUFqQkQsRUFDSCxPQUFPQSxFQUFhRSxRQUdyQixJQUFJQyxFQUFTTixFQUF5QkUsR0FBWSxDQUdqREcsUUFBUyxJQU9WLE9BSEFFLEVBQW9CTCxHQUFVSSxFQUFRQSxFQUFPRCxRQUFTSixHQUcvQ0ssRUFBT0QsUUNyQmZKLEVBQW9CTyxFQUFJLEcsV0NBeEIsSUFBTUMsRUFBaUIsQ0FDckJDLGFBQWMsa0JBQ2RDLGNBQWUscUJBQ2ZDLHFCQUFzQixzQkFDdEJDLG9CQUFxQiw4QkFDckJDLGdCQUFpQixnQ0FDakJDLFdB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QWMsSUFBSWhHLEVBQWMsQ0FDcENaLGNBQWUscUJBQ2ZhLFlBQWEsWUFDWDZGLEdBRGlDLEVBQW5CcEssU0FJbEJzSyxFQUFZWixvQkFFWnBLLG1CQUE2QixTQUFTLFdBQ3BDK0osRUFBb0J3QixnQkFDcEJQLEVBQVlWLGFBNEJoQixJQUFNRSxHQUFjLElBQUl4RixFQUFjLENBQ3BDWixjQUFlLDBCQUNmYSxZQUFhLFlBQTBCLGFBQXZCbUUsRUFBdUIsS0FBZG9DLEVBQWMsS0FDckM5RCxNQUFNQyxpQkFDTnVDLElBQWEsR0FFYlQsRUFBSWdDLFdBQVdyQyxHQUFRbEIsTUFBSyxXQUUxQmdDLElBQWEsR0FDYk0sR0FBWTdGLFFBQ1o2RyxFQUFRekksWUFHVDBGLE9BQU0sU0FBQUMsR0FBRyxPQUFJQyxRQUFRQyxJQUFJRixTQU05QixTQUFTd0IsR0FBYXdCLEVBQVdDLEdBRTdCOUwsU0FBU0MsY0FBYyx1QkFBdUIyQyxZQUQ3Q2lKLEVBQzJELFlBRUEsT0FQaEVsQixHQUFZSixvQiIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7IiwiY29uc3QgdmFsaWRhdGlvbkZvcm0gPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fcHJvZmlsZVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX190ZXh0LWlucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtLXN1Ym1pdFwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX2Zvcm0tc3VibWl0X2Rpc2FibGVkXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcIi5tb2RhbF9fdGV4dC1pbnB1dF90eXBlX2Vycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXQtZXJyb3JfYWN0aXZlXCIsXHJcbn07XHJcblxyXG4vLyBEZWNsYXJhdGlvbnNcclxuY29uc3Qgb3BlbkVkaXRQcm9maWxlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xyXG5jb25zdCBhZGRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcclxuY29uc3QgYXZhdGFyTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2F2YXRhci1idXR0b25cIik7XHJcbmNvbnN0IGVkaXRQcm9maWxlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX3R5cGVfcHJvZmlsZVwiKTtcclxuY29uc3QgYWRkTW9kYWxQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfdHlwZV9hZGQtY2FyZFwiKTtcclxuY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25hbWVcIik7XHJcbmNvbnN0IHByb2ZpbGVPY2N1cGF0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19vY2N1cGF0aW9uXCIpO1xyXG5jb25zdCBkZWxldGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfdHlwZV9kZWxldGUtY2FyZFwiKTtcclxuY29uc3QgcHJvZmlsZUZvcm0gPSBkb2N1bWVudC5mb3Jtcy5wcm9maWxlO1xyXG5jb25zdCBwcm9maWxlRm9ybU5hbWVJbnB1dCA9IHByb2ZpbGVGb3JtLmVsZW1lbnRzLm5hbWU7XHJcbmNvbnN0IHByb2ZpbGVGb3JtT2NjdXBhdGlvbklucHV0ID0gcHJvZmlsZUZvcm0uZWxlbWVudHMub2NjdXBhdGlvbjtcclxuY29uc3QgZXNjS2V5ID0gMjc7XHJcbmNvbnN0IHByZXZpZXdNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfdHlwZV9wcmV2aWV3XCIpO1xyXG5jb25zdCBwcmV2aWV3SW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZVwiKTtcclxuY29uc3QgcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyXCIpO1xyXG5jb25zdCBhdmF0YXJGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fcHJvZmlsZV9hdmF0YXJcIik7XHJcblxyXG4vLyBFeHBvcnRzXHJcblxyXG5leHBvcnQge1xyXG4gIGF2YXRhckZvcm0sXHJcbiAgZGVsZXRlTW9kYWwsXHJcbiAgcHJvZmlsZUF2YXRhcixcclxuICBvcGVuRWRpdFByb2ZpbGVNb2RhbCxcclxuICBhZGRNb2RhbCxcclxuICBlZGl0UHJvZmlsZU1vZGFsLFxyXG4gIGFkZE1vZGFsUG9wdXAsXHJcbiAgcHJvZmlsZU5hbWUsXHJcbiAgcHJvZmlsZU9jY3VwYXRpb24sXHJcbiAgcHJvZmlsZUZvcm0sXHJcbiAgcHJvZmlsZUZvcm1OYW1lSW5wdXQsXHJcbiAgcHJvZmlsZUZvcm1PY2N1cGF0aW9uSW5wdXQsXHJcbiAgdmFsaWRhdGlvbkZvcm0sXHJcbiAgcHJldmlld01vZGFsLFxyXG4gIHByZXZpZXdJbWFnZSxcclxuICBlc2NLZXksXHJcbiAgYXZhdGFyTW9kYWxcclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gICAgY29uc3RydWN0b3Ioe2RhdGEsIGhhbmRsZUNhcmRDbGljaywgaGFuZGxlRGVsZXRlQ2xpY2ssIGxpa2VIYW5kbGVyfSx1c2VySWQsIHRlbXBsYXRlKSB7XHJcbiAgICAgICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcclxuICAgICAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xyXG4gICAgICAgIHRoaXMuX293bmVyID0gZGF0YS5vd25lcjtcclxuICAgICAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XHJcbiAgICAgICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xyXG5cclxuICAgICAgICB0aGlzLl90ZW1wbGF0ZSA9IHRlbXBsYXRlO1xyXG4gICAgICAgIHRoaXMuX2lkID0gZGF0YS5faWQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sgPSBoYW5kbGVEZWxldGVDbGlja1xyXG5cclxuICAgICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcblxyXG4gICAgICAgIHRoaXMuX2xpa2VIYW5kbGVyID0gbGlrZUhhbmRsZXJcclxuICAgIH1cclxuXHJcbiAgICBpZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faWQ7XHJcbiAgICB9XHJcblxyXG4gICAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZSkuY29udGVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudCcpLmNsb25lTm9kZSh0cnVlKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIGlzTGlrZWQoKXtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbGlrZXMuc29tZShpdGVtID0+IGl0ZW0uX2lkID09PSB0aGlzLl91c2VySWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHNob3dMaWtlcygpe1xyXG4gICAgICAgIHRoaXMuX2NhcmRMaWtlcy50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcclxuICAgICAgICBpZiAodGhpcy5pc0xpa2VkKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdlbGVtZW50X19idXR0b25fYWN0aXZlJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdlbGVtZW50X19idXR0b25fYWN0aXZlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUxpa2VzKGxpa2VzKSB7XHJcbiAgICAgICAgdGhpcy5fbGlrZXMgPSBsaWtlcztcclxuICAgICAgICB0aGlzLnNob3dMaWtlcygpO1xyXG4gICAgfVxyXG5cclxuICAgIF9zaG93RGVsZXRlSWNvbigpeyBcclxuICAgICAgICBpZih0aGlzLl9vd25lci5faWQgPT09IHRoaXMuX3VzZXJJZCl7IFxyXG4gICAgICAgICAgICB0aGlzLl9jYXJkVHJhc2guY2xhc3NMaXN0LmFkZCgnZWxlbWVudF9fZGVsZXRlLWJ1dHRvbl9hY3RpdmUnKTsgXHJcbiAgICAgICAgfSBcclxuICAgIH1cclxuXHJcbiAgICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fYnV0dG9uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLl9saWtlSGFuZGxlcih0aGlzLCB0aGlzLl9pZCkpO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2RlbGV0ZS1idXR0b24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrKFt0aGlzLl9pZCwgdGhpcy5fZWxlbWVudF0pKTtcclxuICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19pbWFnZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5faGFuZGxlQ2FyZENsaWNrKHtuYW1lOiB0aGlzLl9uYW1lLCBsaW5rOiB0aGlzLl9saW5rfSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgICAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgICAgICB0aGlzLl9jYXJkVHJhc2ggPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19kZWxldGUtYnV0dG9uJyk7XHJcblxyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX3RleHQnKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9faW1hZ2UnKS5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2ltYWdlJykuYWx0ID0gdGhpcy5fbmFtZTtcclxuICAgICAgICB0aGlzLl9lbGVtZW50LmlkID0gdGhpcy5faWQ7XHJcblxyXG4gICAgICAgIHRoaXMuX2NhcmRMaWtlcyA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2xpa2VzJyk7XHJcbiAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2J1dHRvbicpO1xyXG5cclxuICAgICAgICB0aGlzLl9zaG93RGVsZXRlSWNvbigpO1xyXG4gICAgICAgIHRoaXMuc2hvd0xpa2VzKCk7XHJcblxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICAgIH1cclxufSIsImNsYXNzIFNlY3Rpb24ge1xyXG4gICAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBjb250YWluZXIpIHtcclxuICAgICAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJlcihjYXJkcykge1xyXG4gICAgICAgIGNhcmRzLmZvckVhY2goKGl0ZW0pID0+IHRoaXMuX2NvbnRhaW5lci5hcHBlbmQodGhpcy5fcmVuZGVyZXIoaXRlbSkpKTtcclxuICAgIH1cclxuICAgIGFkZEl0ZW0oY2FyZEVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChjYXJkRWxlbWVudCk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBTZWN0aW9uOyIsImltcG9ydCB7IGVzY0tleSB9IGZyb20gXCIuL3V0aWxzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgb3BlbigpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnbW9kYWxfb3BlbicpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2UoKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ21vZGFsX29wZW4nKTtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIF9oYW5kbGVFc2NDbG9zZShlKSB7XHJcbiAgICAgICAgaWYoZS53aGljaCA9PSBlc2NLZXkpIHtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBpZihlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ21vZGFsX19jbG9zZS1idXR0b24nKSB8fCBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ21vZGFsX29wZW4nKSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KSAgICAgXHJcbiAgICB9XHJcbn07XHJcblxyXG5cclxuXHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2VcIik7XHJcbiAgICAgICAgdGhpcy5fbmFtZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZS1jYXB0aW9uXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW4oe25hbWUsIGxpbmt9KSB7XHJcbiAgICAgICAgdGhpcy5faW1hZ2Uuc3JjID0gbGlua1xyXG4gICAgICAgIHRoaXMuX2ltYWdlLmFsdCA9IG5hbWVcclxuICAgICAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gbmFtZVxyXG4gICAgICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIH1cclxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHtwb3B1cFNlbGVjdG9yLCBwb3B1cFN1Ym1pdH0pIHtcclxuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9wb3B1cFN1Ym1pdCA9IHBvcHVwU3VibWl0O1xyXG4gICAgICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3Byb2ZpbGVcIik7XHJcbiAgICAgICAgdGhpcy5fc3VibWl0RXZlbnRIYW5kbGVyID0gdGhpcy5fc3VibWl0RXZlbnRIYW5kbGVyLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgICAgIGlmKHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX3RleHQtaW5wdXQnKSkge1xyXG4gICAgICAgICAgICBjb25zdCBvdXJBcnJheSA9IFsuLi50aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1vZGFsX190ZXh0LWlucHV0JyldLm1hcChpbnB1dCA9PiBpbnB1dC52YWx1ZSk7XHJcbiAgICAgICAgICAgIHJldHVybiB7bmFtZTogb3VyQXJyYXlbMF0sIGxpbms6IG91ckFycmF5WzFdfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgX3N1Ym1pdEV2ZW50SGFuZGxlcigpe1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGlucHV0U3VibWl0VmFsdWUgPSB0aGlzLl9nZXRJbnB1dFZhbHVlcygpIHx8IHRoaXMuX2luZm87XHJcbiAgICAgICAgdGhpcy5fcG9wdXBTdWJtaXQoaW5wdXRTdWJtaXRWYWx1ZSk7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCB0aGlzLl9zdWJtaXRFdmVudEhhbmRsZXIpO1xyXG4gICAgICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2UoKSB7XHJcbiAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnQucmVzZXQoKTtcclxuICAgICAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW4oY2FyZEluZm8pe1xyXG4gICAgICAgIHN1cGVyLm9wZW4oKTtcclxuICAgICAgICB0aGlzLl9pbmZvID0gY2FyZEluZm87XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IoeyBuYW1lLCBsaW5rLCBhdmF0YXIgfSkge1xyXG4gICAgdGhpcy5fbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZSk7XHJcbiAgICB0aGlzLl9vY2N1cGF0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihsaW5rKTtcclxuICAgIHRoaXMuX2F2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyKTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuICh0aGlzLnVzZXJJbmZvID0gW1xyXG4gICAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxyXG4gICAgICB0aGlzLl9vY2N1cGF0aW9uLnRleHRDb250ZW50LFxyXG4gICAgICB0aGlzLl9hdmF0YXIuc3JjLFxyXG4gICAgXSk7XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyhuYW1lLCBsaW5rLCBhdmF0YXIpIHtcclxuICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgdGhpcy5fb2NjdXBhdGlvbi50ZXh0Q29udGVudCA9IGxpbms7XHJcbiAgICB0aGlzLl9hdmF0YXIuc3JjID0gYXZhdGFyO1xyXG4gIH1cclxufVxyXG4iLCIvLyBDbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm1FbGVtZW50KSB7XHJcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gY29uZmlnLmlucHV0U2VsZWN0b3I7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcclxuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcztcclxuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IGNvbmZpZy5pbnB1dEVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gY29uZmlnLmVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9lbGVtZW50ID0gZm9ybUVsZW1lbnQ7XHJcblxyXG4gICAgdGhpcy5faW5wdXRzID0gQXJyYXkuZnJvbShcclxuICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXHJcbiAgICApO1xyXG4gICAgdGhpcy5fYnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIF9zaG93RXJyb3JNZXNzYWdlKGlucHV0KSB7XHJcbiAgICBjb25zdCBlcnJvciA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIiNcIiArIGlucHV0LmlkICsgXCItZXJyb3JcIik7XHJcblxyXG4gICAgZXJyb3IudGV4dENvbnRlbnQgPSBpbnB1dC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgIGVycm9yLmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfaGlkZUVycm9yTWVzc2FnZShpbnB1dCkge1xyXG4gICAgY29uc3QgZXJyb3IgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjXCIgKyBpbnB1dC5pZCArIFwiLWVycm9yXCIpO1xyXG5cclxuICAgIGVycm9yLnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgIGVycm9yLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0KSB7XHJcbiAgICBpZiAoaW5wdXQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5faGlkZUVycm9yTWVzc2FnZShpbnB1dCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9zaG93RXJyb3JNZXNzYWdlKGlucHV0LCBpbnB1dC52YWxpZGF0aW9uTWVzc2FnZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuXHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgY29uc3QgaXNWYWxpZCA9IHRoaXMuX2lucHV0cy5ldmVyeSgoaW5wdXQpID0+IGlucHV0LnZhbGlkaXR5LnZhbGlkKTtcclxuXHJcbiAgICBpZiAoaXNWYWxpZCkge1xyXG4gICAgICB0aGlzLl9idXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgdGhpcy5fYnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9idXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgdGhpcy5fYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGRpc2FibGVCdXR0b24oKXtcclxuICAgIHRoaXMuX2J1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgdGhpcy5fYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcclxuICAgIHRoaXMuX2lucHV0cy5mb3JFYWNoKGlucHV0ID0+IHtcclxuICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXQpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKHRoaXMuX2VsZW1lbnQsIHRoaXMuX2lucHV0U2VsZWN0b3IpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3IoeyBiYXNlVVJMLCBoZWFkZXJzIH0pIHtcclxuICAgIHRoaXMuX2Jhc2VVUkwgPSBiYXNlVVJMO1xyXG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XHJcbiAgfVxyXG5cclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVSTCArIFwiL2NhcmRzXCIsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKChyZXMpID0+XHJcbiAgICAgICAgcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KFwiRXJyb3JcIiArIHJlcy5zdGF0dXNUZXh0KVxyXG4gICAgICApXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVUkwgKyBcIi91c2Vycy9tZVwiLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PlxyXG4gICAgICAgIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChcIkVycm9yXCIgKyByZXMuc3RhdHVzVGV4dClcclxuICAgICAgKVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbiAgfVxyXG5cclxuICBnZXRBcHBJbmZvKCkge1xyXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFt0aGlzLmdldFVzZXJJbmZvKCksIHRoaXMuZ2V0SW5pdGlhbENhcmRzKCldKTtcclxuICB9XHJcblxyXG4gIGFkZENhcmQoeyBuYW1lLCBsaW5rIH0pIHtcclxuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVVJMICsgXCIvY2FyZHNcIiwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZSxcclxuICAgICAgICBsaW5rLFxyXG4gICAgICB9KSxcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKChyZXMpID0+XHJcbiAgICAgICAgcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KFwiRXJyb3JcIiArIHJlcy5zdGF0dXNUZXh0KVxyXG4gICAgICApXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuICB9XHJcblxyXG4gIHJlbW92ZUNhcmQoY2FyZElEKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICBmZXRjaCh0aGlzLl9iYXNlVVJMICsgXCIvY2FyZHMvXCIgKyBjYXJkSUQsIHtcclxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgfSlcclxuICAgICAgICAudGhlbigocmVzKSA9PlxyXG4gICAgICAgICAgcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KFwiRXJyb3JcIiArIHJlcy5zdGF0dXNUZXh0KVxyXG4gICAgICAgIClcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBhZGRMaWtlKGNhcmRJRCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgZmV0Y2godGhpcy5fYmFzZVVSTCArIFwiL2NhcmRzL2xpa2VzL1wiICsgY2FyZElELCB7XHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oKHJlcykgPT5cclxuICAgICAgICAgIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChcIkVycm9yXCIgKyByZXMuc3RhdHVzVGV4dClcclxuICAgICAgICApXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlTGlrZShjYXJkSUQpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIGZldGNoKHRoaXMuX2Jhc2VVUkwgKyBcIi9jYXJkcy9saWtlcy9cIiArIGNhcmRJRCwge1xyXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICB9KVxyXG4gICAgICAgIC50aGVuKChyZXMpID0+XHJcbiAgICAgICAgICByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QoXCJFcnJvclwiICsgcmVzLnN0YXR1c1RleHQpXHJcbiAgICAgICAgKVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKHsgbmFtZSwgYWJvdXQgfSkge1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVUkwgKyBcIi91c2Vycy9tZS9cIiwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IFwiZjNjZjY4OWYtZTkwMy00YjViLTlkNzctMmIwYjQwNDhkNDU1XCIsXHJcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgIH0sXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lLFxyXG4gICAgICAgIGFib3V0LFxyXG4gICAgICB9KSxcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKChyZXMpID0+XHJcbiAgICAgICAgcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KFwiRXJyb3JcIiArIHJlcy5zdGF0dXNUZXh0KVxyXG4gICAgICApXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuICB9XHJcblxyXG4gIHNldFVzZXJBdmF0YXIoYXZhdGFyKSB7XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVSTCArIFwiL3VzZXJzL21lL2F2YXRhci9cIiwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIGF2YXRhcixcclxuICAgICAgfSksXHJcbiAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PlxyXG4gICAgICAgIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChcIkVycm9yXCIgKyByZXMuc3RhdHVzVGV4dClcclxuICAgICAgKVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbiAgfVxyXG59XHJcbiIsIi8vIEltcG9ydHNcclxuXHJcbmltcG9ydCBcIi4uL3N0eWxlcy9pbmRleC5jc3NcIjsgLy8gYWRkIGltcG9ydCBvZiB0aGUgbWFpbiBzdHlsZXNoZWV0cyBmaWxlXHJcbmltcG9ydCB7XHJcbiAgZGVsZXRlTW9kYWwsXHJcbiAgb3BlbkVkaXRQcm9maWxlTW9kYWwsXHJcbiAgYWRkTW9kYWwsXHJcbiAgZWRpdFByb2ZpbGVNb2RhbCxcclxuICBhZGRNb2RhbFBvcHVwLFxyXG4gIHByb2ZpbGVOYW1lLFxyXG4gIHByb2ZpbGVPY2N1cGF0aW9uLFxyXG4gIHByb2ZpbGVGb3JtTmFtZUlucHV0LFxyXG4gIHByb2ZpbGVGb3JtT2NjdXBhdGlvbklucHV0LFxyXG4gIHZhbGlkYXRpb25Gb3JtLFxyXG4gIHByb2ZpbGVBdmF0YXIsXHJcbiAgYXZhdGFyTW9kYWwsXHJcbiAgYXZhdGFyRm9ybVxyXG59IGZyb20gXCIuLi9zY3JpcHRzL3V0aWxzLmpzXCI7XHJcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9zY3JpcHRzL0NhcmQuanNcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL3NjcmlwdHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL3NjcmlwdHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL3NjcmlwdHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL3NjcmlwdHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL3NjcmlwdHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgQXBpIGZyb20gXCIuLi9zY3JpcHRzL0FwaS5qc1wiO1xyXG5cclxuLy8gVmlzdWFsIENvbXBvbmVudHNcclxuaW1wb3J0IHZlY3RvckltZyBmcm9tIFwiLi4vaW1hZ2VzL1ZlY3Rvci5zdmdcIjtcclxuXHJcbmNvbnN0IHZlY3RvckltYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2ZWN0b3ItaW1hZ2VcIik7XHJcbnZlY3RvckltYWdlLnNyYyA9IHZlY3RvckltZztcclxuXHJcbi8vIERlY2xhcmUgQVBJXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gIGJhc2VVUkw6IFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9ncm91cC0xMlwiLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246IFwiZjNjZjY4OWYtZTkwMy00YjViLTlkNzctMmIwYjQwNDhkNDU1XCIsXHJcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICB9LFxyXG59KTtcclxuXHJcbmNvbnN0IGNhcmRTZWN0aW9uID0gbmV3IFNlY3Rpb24oXHJcbiAge1xyXG4gICAgcmVuZGVyZXI6IHJlbmRlckNhcmQsXHJcbiAgfSxcclxuICBcIi5lbGVtZW50c1wiXHJcbik7XHJcblxyXG5cclxuLy8gRm9ybSBWYWxpZGF0aW9uXHJcbmNvbnN0IGVkaXRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkZvcm0sIGVkaXRQcm9maWxlTW9kYWwpO1xyXG5jb25zdCBjYXJkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Gb3JtLCBhZGRNb2RhbFBvcHVwKTtcclxuY29uc3QgYXZhdGFyRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Gb3JtLCBhdmF0YXJGb3JtKTtcclxuZWRpdEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5jYXJkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmF2YXRhckZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xyXG4gIG5hbWU6IFwiLnByb2ZpbGVfX25hbWVcIixcclxuICBsaW5rOiBcIi5wcm9maWxlX19vY2N1cGF0aW9uXCIsXHJcbiAgYXZhdGFyOiBcIi5wcm9maWxlX19hdmF0YXJcIixcclxufSk7XHJcblxyXG5cclxuXHJcbi8vIEVkaXQgUHJvZmlsZSBQb3B1cFxyXG5cclxuZnVuY3Rpb24gaGFuZGxlRWRpdEJ1dHRvbih7bmFtZSwgbGlua30pe1xyXG4gIGxvYWRpbmdNb2RhbCh0cnVlLCBlZGl0UG9wdXApXHJcbiAgYXBpLnNldFVzZXJJbmZvKHsgbmFtZTogbmFtZSwgYWJvdXQ6IGxpbmsgfSlcclxuICAudGhlbihyZXMgPT4ge1xyXG4gICAgcHJvZmlsZU5hbWUudGV4dENvbnRlbnQgPSByZXMubmFtZTtcclxuICAgIHByb2ZpbGVPY2N1cGF0aW9uLnRleHRDb250ZW50ID0gcmVzLmFib3V0O1xyXG4gICAgbG9hZGluZ01vZGFsKGZhbHNlLCBlZGl0UG9wdXApO1xyXG4gICAgZWRpdFBvcHVwLmNsb3NlKCk7XHJcbiAgfSlcclxuICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpXHJcbn1cclxuXHJcbmNvbnN0IGVkaXRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuICBwb3B1cFNlbGVjdG9yOiBcIi5tb2RhbF90eXBlX3Byb2ZpbGVcIixcclxuICBwb3B1cFN1Ym1pdDogKHsgbmFtZSAsIGxpbmsgfSkgPT4ge1xyXG4gICAgaGFuZGxlRWRpdEJ1dHRvbih7IG5hbWUgLCBsaW5rIH0pO1xyXG4gIH0sXHJcbn0pO1xyXG5cclxuZWRpdFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5vcGVuRWRpdFByb2ZpbGVNb2RhbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGNvbnN0IHVzZXJEYXRhID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcclxuICBwcm9maWxlRm9ybU5hbWVJbnB1dC52YWx1ZSA9IHVzZXJEYXRhWzBdO1xyXG4gIHByb2ZpbGVGb3JtT2NjdXBhdGlvbklucHV0LnZhbHVlID0gdXNlckRhdGFbMV07XHJcbiAgZWRpdFBvcHVwLm9wZW4oKTtcclxufSk7XHJcblxyXG5cclxuXHJcbi8vIFByZXZpZXcgSW1hZ2UgUG9wdXBcclxuY29uc3QgaW1hZ2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIi5tb2RhbF90eXBlX3ByZXZpZXdcIik7XHJcbmltYWdlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmZ1bmN0aW9uIHJlbmRlckNhcmQoZGF0YSkge1xyXG4gIGxldCBvdXJDYXJkID0gbmV3IENhcmQoXHJcbiAgICB7XHJcbiAgICAgIGRhdGEsXHJcbiAgICAgIGhhbmRsZUNhcmRDbGljazogKHsgbmFtZSwgbGluayB9KSA9PiB7XHJcbiAgICAgICAgaW1hZ2VQb3B1cC5vcGVuKHsgbmFtZSwgbGluayB9KTtcclxuICAgICAgfSxcclxuICAgICAgaGFuZGxlRGVsZXRlQ2xpY2s6IChjYXJkSW5mbykgPT4ge1xyXG4gICAgICAgIGRlbGV0ZVBvcHVwLm9wZW4oY2FyZEluZm8pO1xyXG4gICAgICB9LFxyXG4gICAgICBsaWtlSGFuZGxlcjogKGNhcmRFbGVtZW50LCBjYXJkSUQpID0+IHtcclxuICAgICAgICBjYXJkTGlrZUNvdW50ZXIoY2FyZEVsZW1lbnQsIGNhcmRJRCk7XHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAgdXNlcklkLFxyXG4gICAgXCIjY2FyZC10ZW1wbGF0ZVwiXHJcbiAgKTtcclxuICByZXR1cm4gb3VyQ2FyZC5nZW5lcmF0ZUNhcmQoKTtcclxufVxyXG5cclxuXHJcbi8vIENhcmQgTGlrZXNcclxuZnVuY3Rpb24gY2FyZExpa2VDb3VudGVyKGNhcmRFbGVtZW50LCBjYXJkSUQpIHtcclxuICBpZiAoY2FyZEVsZW1lbnQuaXNMaWtlZCgpKSB7XHJcbiAgICBhcGlcclxuICAgICAgLnJlbW92ZUxpa2UoY2FyZElEKVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgY2FyZEVsZW1lbnQudXBkYXRlTGlrZXMocmVzLmxpa2VzKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBhcGlcclxuICAgICAgLmFkZExpa2UoY2FyZElEKVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgY2FyZEVsZW1lbnQudXBkYXRlTGlrZXMocmVzLmxpa2VzKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbi8vIEFkZCBDYXJkIGFuZCBBdmF0YXIgUG9wdXBcclxuYXBpLmdldEFwcEluZm8oKS50aGVuKChbdXNlckRhdGEsIGNhcmRMaXN0RGV0YWlsXSkgPT4ge1xyXG4gIHVzZXJJZCA9IHVzZXJEYXRhLl9pZDtcclxuICB1c2VySW5mby5zZXRVc2VySW5mbyh1c2VyRGF0YS5uYW1lLCB1c2VyRGF0YS5hYm91dCwgdXNlckRhdGEuYXZhdGFyKTtcclxuICBjYXJkU2VjdGlvbi5yZW5kZXJlcihjYXJkTGlzdERldGFpbCk7XHJcblxyXG4gIGNvbnN0IGFkZENhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuICAgIHBvcHVwU2VsZWN0b3I6IFwiLm1vZGFsX3R5cGVfYWRkLWNhcmRcIixcclxuICAgIHBvcHVwU3VibWl0OiAoZGF0YSkgPT4ge1xyXG4gICAgICBhcGkuYWRkQ2FyZChkYXRhKS50aGVuKChyZXMpID0+IHtcclxuICAgICAgICBjb25zdCBuZXdDYXJkID0gcmVuZGVyQ2FyZChyZXMpO1xyXG4gICAgICAgIGNhcmRTZWN0aW9uLmFkZEl0ZW0obmV3Q2FyZCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSxcclxuICB9KTtcclxuICBhZGRDYXJkUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICBhZGRNb2RhbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgY2FyZEZvcm1WYWxpZGF0b3IuZGlzYWJsZUJ1dHRvbigpO1xyXG4gICAgYWRkQ2FyZFBvcHVwLm9wZW4oKTtcclxuICB9KTtcclxuXHJcbiAgY29uc3QgYXZhdGFyUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgICBwb3B1cFNlbGVjdG9yOiBcIi5tb2RhbF90eXBlX2F2YXRhclwiLFxyXG4gICAgcG9wdXBTdWJtaXQ6ICh7IG5hbWU6IGF2YXRhciB9KSA9PiB7XHJcbiAgICAgIGhhbmRsZUF2YXRhcihhdmF0YXIpXHJcbiAgICB9LFxyXG4gIH0pO1xyXG4gIGF2YXRhclBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgXHJcbiAgYXZhdGFyTW9kYWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGF2YXRhckZvcm1WYWxpZGF0b3IuZGlzYWJsZUJ1dHRvbigpO1xyXG4gICAgYXZhdGFyUG9wdXAub3BlbigpO1xyXG4gICAgXHJcbiAgfSk7XHJcbiAgXHJcbn0pO1xyXG5cclxuXHJcblxyXG5cclxubGV0IHVzZXJJZDtcclxuXHJcblxyXG4vLyBBdmF0YXIgUG9wdXAgSGFuZGxlclxyXG5mdW5jdGlvbiBoYW5kbGVBdmF0YXIoYXZhdGFyKXtcclxuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIGxvYWRpbmdNb2RhbCh0cnVlLCBwcm9maWxlQXZhdGFyKTtcclxuXHJcbiAgYXBpLnNldFVzZXJBdmF0YXIoYXZhdGFyKVxyXG4gIC50aGVuKHJlcyA9PiB7XHJcbiAgICBwcm9maWxlQXZhdGFyLnNyYyA9IHJlcy5hdmF0YXI7XHJcbiAgICBsb2FkaW5nTW9kYWwoZmFsc2UsIHByb2ZpbGVBdmF0YXIpO1xyXG4gICAgYXZhdGFyUG9wdXAuY2xvc2UoKTtcclxuICB9KVxyXG4gIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbn1cclxuXHJcblxyXG4vLyBEZWxldGUgQ2FyZCBQb3B1cFxyXG5jb25zdCBkZWxldGVQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuICBwb3B1cFNlbGVjdG9yOiBcIi5tb2RhbF90eXBlX2RlbGV0ZS1jYXJkXCIsXHJcbiAgcG9wdXBTdWJtaXQ6IChbIGNhcmRJRCAsIGVsZW1lbnQgXSkgPT4ge1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIGxvYWRpbmdNb2RhbCh0cnVlLCBkZWxldGVNb2RhbCk7XHJcbiAgICBcclxuICAgIGFwaS5yZW1vdmVDYXJkKGNhcmRJRCkudGhlbigoKSA9PiB7XHJcbiAgICAgIFxyXG4gICAgICBsb2FkaW5nTW9kYWwoZmFsc2UsIGRlbGV0ZU1vZGFsKTtcclxuICAgICAgZGVsZXRlUG9wdXAuY2xvc2UoKTtcclxuICAgICAgZWxlbWVudC5yZW1vdmUoKTtcclxuICAgICAgXHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuICB9XHJcbn0pXHJcbmRlbGV0ZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vLyBMb2FkaW5nIFVJXHJcbmZ1bmN0aW9uIGxvYWRpbmdNb2RhbChpc0xvYWRpbmcsIG1vZGFsKXtcclxuICBpZihpc0xvYWRpbmcpIHtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fZm9ybS1zdWJtaXQnKS50ZXh0Q29udGVudCA9IFwiU2F2aW5nLi4uXCI7XHJcbiAgfSBlbHNlIHtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fZm9ybS1zdWJtaXQnKS50ZXh0Q29udGVudCA9IFwiU2F2ZVwiO1xyXG4gIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=