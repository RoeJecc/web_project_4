!function(){"use strict";var e={346:function(e,t,n){e.exports=n.p+"4e8e0a1d604782a0dff8.svg"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.p="",function(){var e={formSelector:".modal__profile",inputSelector:".modal__text-input",submitButtonSelector:".modal__form-submit",inactiveButtonClass:"modal__form-submit_disabled",inputErrorClass:".modal__text-input_type_error",errorClass:"modal__input-error_active"},t=document.querySelector(".profile__edit-button"),r=document.querySelector(".profile__add-button"),o=document.querySelector(".profile__avatar-button"),i=document.querySelector(".modal_type_profile"),a=document.querySelector(".modal_type_add-card"),u=document.querySelector(".profile__name"),s=document.querySelector(".profile__occupation"),l=(document.querySelector(".modal_type_delete-card"),document.forms.profile),c=l.elements.name,f=l.elements.occupation,h=(document.querySelector(".modal_type_preview"),document.querySelector(".modal__image"),document.querySelector(".profile__avatar"));function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=function(){function e(t,n,r){var o=t.data,i=t.handleCardClick,a=t.handleDeleteClick,u=t.likeHandler;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=o.name,this._link=o.link,this._owner=o.owner,this._userId=n,this._likes=o.likes,this._template=r,this._id=o._id,this._handleDeleteClick=a,this._handleCardClick=i,this._likeHandler=u}var t,n;return t=e,(n=[{key:"id",value:function(){return this._id}},{key:"_getTemplate",value:function(){return document.querySelector(this._template).content.querySelector(".element").cloneNode(!0)}},{key:"isLiked",value:function(){var e=this;return this._likes.some((function(t){return t._id===e._userId}))}},{key:"showLikes",value:function(){this._cardLikes.textContent=this._likes.length,this.isLiked()?this._likeButton.classList.add("element__button_active"):this._likeButton.classList.remove("element__button_active")}},{key:"updateLikes",value:function(e){this._likes=e,this.showLikes()}},{key:"_showDeleteIcon",value:function(){this._owner._id===this._userId&&this._cardTrash.classList.add("element__delete-button_active")}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".element__button").addEventListener("click",(function(){return e._likeHandler(e,e._id)})),this._element.querySelector(".element__delete-button").addEventListener("click",(function(){return e._handleDeleteClick([e._id,e._element])})),this._element.querySelector(".element__image").addEventListener("click",(function(){return e._handleCardClick({name:e._name,link:e._link})}))}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._setEventListeners(),this._cardTrash=this._element.querySelector(".element__delete-button"),this._element.querySelector(".element__text").textContent=this._name,this._element.querySelector(".element__image").src=this._link,this._element.querySelector(".element__image").alt=this._name,this._element.id=this._id,this._cardLikes=this._element.querySelector(".element__likes"),this._likeButton=this._element.querySelector(".element__button"),this._showDeleteIcon(),this.showLikes(),this._element}}])&&p(t.prototype,n),e}();function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderer",value:function(e){var t=this;e.forEach((function(e){return t._container.append(t._renderer(e))}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&_(t.prototype,n),e}();function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var v=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupElement=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popupElement.classList.add("modal_open"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove("modal_open"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){27==e.which&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.addEventListener("click",(function(t){(t.target.classList.contains("modal__close-button")||t.target.classList.contains("modal_open"))&&e.close()}))}}])&&y(t.prototype,n),e}();function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=w(r);if(o){var n=w(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return E(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._image=t._popupElement.querySelector(".modal__image"),t._name=t._popupElement.querySelector(".modal__image-caption"),t}return t=a,(n=[{key:"open",value:function(e){var t=e.name,n=e.link;this._image.src=n,this._image.alt=t,this._name.textContent=t,g(w(a.prototype),"open",this).call(this)}}])&&k(t.prototype,n),a}(v);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t,n){return(q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=T(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?I(e):t}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=T(r);if(o){var n=T(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return x(this,e)});function a(e){var t,n=e.popupSelector,r=e.popupSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,n))._popupSubmit=r,t._formElement=t._popupElement.querySelector(".modal__profile"),t._submitEventHandler=t._submitEventHandler.bind(I(t)),t}return t=a,(n=[{key:"_getInputValues",value:function(){if(this._popupElement.querySelector(".modal__text-input")){var e=(t=this._popupElement.querySelectorAll(".modal__text-input"),function(e){if(Array.isArray(e))return j(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){return e.value}));return{name:e[0],link:e[1]}}var t}},{key:"_submitEventHandler",value:function(){var e=this._getInputValues()||this._info;this._popupSubmit(e),this.close()}},{key:"setEventListeners",value:function(){this._popupElement.addEventListener("submit",this._submitEventHandler),q(T(a.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){this._formElement.reset(),q(T(a.prototype),"close",this).call(this)}},{key:"open",value:function(e){q(T(a.prototype),"open",this).call(this),this._info=e}}])&&O(t.prototype,n),a}(v);function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var A=function(){function e(t){var n=t.name,r=t.link,o=t.avatar;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(n),this._occupation=document.querySelector(r),this._avatar=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return this.userInfo=[this._name.textContent,this._occupation.textContent,this._avatar.src]}},{key:"setUserInfo",value:function(e,t,n){this._name.textContent=e,this._occupation.textContent=t,this._avatar.src=n}}])&&U(t.prototype,n),e}();function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),D(this,"_hasInvalidInput",(function(e){return e.some((function(e){return!e.validity.valid}))})),D(this,"_setEventListeners",(function(){r._inputs.forEach((function(e){e.addEventListener("input",(function(){r._checkInputValidity(e,r._inputErrorClass),r._toggleButtonState(r._element,r._inputSelector)}))}))})),this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._element=n,this._inputs=Array.from(this._element.querySelectorAll(this._inputSelector)),this._button=this._element.querySelector(this._submitButtonSelector)}var t,n;return t=e,(n=[{key:"_showErrorMessage",value:function(e){var t=this._element.querySelector("#"+e.id+"-error");t.textContent=e.validationMessage,t.classList.add(this._errorClass),e.classList.add(this._inputErrorClass)}},{key:"_hideErrorMessage",value:function(e){var t=this._element.querySelector("#"+e.id+"-error");t.textContent="",t.classList.remove(this._errorClass),e.classList.remove(this._inputErrorClass)}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideErrorMessage(e):this._showErrorMessage(e,e.validationMessage)}},{key:"_toggleButtonState",value:function(){this._inputs.every((function(e){return!e.validity.valid}))?(this._button.classList.add(this._inactiveButtonClass),this._button.disabled=!0):(this._button.classList.remove(this._inactiveButtonClass),this._button.disabled=!1)}},{key:"disableButton",value:function(){this._button.classList.add(this._inactiveButtonClass),this._button.disabled=!0}},{key:"enableValidation",value:function(){this._element.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners()}}])&&B(t.prototype,n),e}();function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var V=function(){function e(t){var n=t.baseURL,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseURL=n,this._headers=r}var t,n;return t=e,(n=[{key:"getInitialCards",value:function(){return fetch(this._baseURL+"/cards",{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error"+e.statusText)})).catch((function(e){return console.log(e)}))}},{key:"getUserInfo",value:function(){return fetch(this._baseURL+"/users/me",{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error"+e.statusText)})).catch((function(e){return console.log(e)}))}},{key:"getAppInfo",value:function(){return Promise.all([this.getUserInfo(),this.getInitialCards()])}},{key:"addCard",value:function(e){var t=e.name,n=e.link;return fetch(this._baseURL+"/cards",{headers:this._headers,method:"POST",body:JSON.stringify({name:t,link:n})}).then((function(e){return e.ok?e.json():Promise.reject("Error"+e.statusText)})).catch((function(e){return console.log(e)}))}},{key:"removeCard",value:function(e){return fetch(this._baseURL+"/cards/"+e,{headers:this._headers,method:"DELETE"}).then((function(e){return e.ok?e.json():Promise.reject("Error"+e.statusText)})).catch((function(e){return console.log(e)}))}},{key:"addLike",value:function(e){return fetch(this._baseURL+"/cards/likes/"+e,{headers:this._headers,method:"PUT"}).then((function(e){return e.ok?e.json():Promise.reject("Error"+e.statusText)})).catch((function(e){return console.log(e)}))}},{key:"removeLike",value:function(e){return fetch(this._baseURL+"/cards/likes/"+e,{headers:this._headers,method:"DELETE"}).then((function(e){return e.ok?e.json():Promise.reject("Error"+e.statusText)})).catch((function(e){return console.log(e)}))}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.about;return fetch(this._baseURL+"/users/me/",{method:"PATCH",headers:{authorization:"f3cf689f-e903-4b5b-9d77-2b0b4048d455","Content-Type":"application/json"},body:JSON.stringify({name:t,about:n})}).then((function(e){return e.ok?e.json():Promise.reject("Error"+e.statusText)})).catch((function(e){return console.log(e)}))}},{key:"setUserAvatar",value:function(e){return fetch(this._baseURL+"/users/me/avatar/",{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:e})}).then((function(e){return e.ok?e.json():Promise.reject("Error"+e.statusText)})).catch((function(e){return console.log(e)}))}}])&&M(t.prototype,n),e}(),N=n(346);function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}document.getElementById("vector-image").src=N;var $=new V({baseURL:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"f3cf689f-e903-4b5b-9d77-2b0b4048d455","Content-Type":"application/json"}}),F=new m({renderer:ee},".elements"),G=new H(e,i),K=new H(e,a),Q=new H(e,o);G.enableValidation(),K.enableValidation(),Q.enableValidation();var W=new A({name:".profile__name",link:".profile__occupation",avatar:".profile__avatar"}),X=new R({popupSelector:".modal_type_profile",popupSubmit:function(e){var t,n,r;t={name:e.name,link:e.link},n=t.name,r=t.link,re(!0),$.setUserInfo({name:n,about:r}).then((function(e){u.textContent=e.name,s.textContent=e.about,re(!1),X.close()})).catch((function(e){return console.log(e)}))}});X.setEventListeners(),t.addEventListener("click",(function(){var e=W.getUserInfo();c.value=e[0],f.value=e[1],X.open()}));var Y,Z=new C(".modal_type_preview");function ee(e){return new d({data:e,handleCardClick:function(e){var t=e.name,n=e.link;Z.open({name:t,link:n})},handleDeleteClick:function(e){ne.open(e)},likeHandler:function(e,t){!function(e,t){e.isLiked()?$.removeLike(t).then((function(t){e.updateLikes(t.likes)})).catch((function(e){return console.log(e)})):$.addLike(t).then((function(t){e.updateLikes(t.likes)})).catch((function(e){return console.log(e)}))}(e,t)}},Y,"#card-template").generateCard()}function te(e){re(!0),$.setUserAvatar(e).then((function(e){h.src=e.avatar,re(!1),avatarPopup.close()})).catch((function(e){return console.log(e)}))}Z.setEventListeners(),$.getAppInfo().then((function(e){var t=J(e,2),n=t[0],i=t[1];Y=n._id,W.setUserInfo(n.name,n.about,n.avatar),F.renderer(i);var a=new R({popupSelector:".modal_type_add-card",popupSubmit:function(e){$.addCard(e).then((function(e){var t=ee(e);F.addItem(t)}))}});a.setEventListeners(),r.addEventListener("click",(function(){a.open()}));var u=new R({popupSelector:".modal_type_avatar",popupSubmit:function(e){te(e.name)}});u.setEventListeners(),o.addEventListener("click",(function(){K.disableButton(),u.open()}))}));var ne=new R({popupSelector:".modal_type_delete-card",popupSubmit:function(e){var t=J(e,2),n=t[0],r=t[1];re(!0),r.remove(),$.removeCard(n).then((function(){re(!1),ne.close()})).catch((function(e){return console.log(e)}))}});function re(e,t){document.querySelector(".modal__form-submit").textContent=e?"Saving...":"Save"}ne.setEventListeners()}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL3V0aWxzLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9DYXJkLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9BcGkuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsInAiLCJ2YWxpZGF0aW9uRm9ybSIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwib3BlbkVkaXRQcm9maWxlTW9kYWwiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRNb2RhbCIsImF2YXRhck1vZGFsIiwiZWRpdFByb2ZpbGVNb2RhbCIsImFkZE1vZGFsUG9wdXAiLCJwcm9maWxlTmFtZSIsInByb2ZpbGVPY2N1cGF0aW9uIiwicHJvZmlsZUZvcm0iLCJmb3JtcyIsInByb2ZpbGUiLCJwcm9maWxlRm9ybU5hbWVJbnB1dCIsImVsZW1lbnRzIiwibmFtZSIsInByb2ZpbGVGb3JtT2NjdXBhdGlvbklucHV0Iiwib2NjdXBhdGlvbiIsInByb2ZpbGVBdmF0YXIiLCJDYXJkIiwidXNlcklkIiwidGVtcGxhdGUiLCJkYXRhIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlRGVsZXRlQ2xpY2siLCJsaWtlSGFuZGxlciIsInRoaXMiLCJfbmFtZSIsIl9saW5rIiwibGluayIsIl9vd25lciIsIm93bmVyIiwiX3VzZXJJZCIsIl9saWtlcyIsImxpa2VzIiwiX3RlbXBsYXRlIiwiX2lkIiwiX2hhbmRsZURlbGV0ZUNsaWNrIiwiX2hhbmRsZUNhcmRDbGljayIsIl9saWtlSGFuZGxlciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJzb21lIiwiaXRlbSIsIl9jYXJkTGlrZXMiLCJ0ZXh0Q29udGVudCIsImxlbmd0aCIsImlzTGlrZWQiLCJfbGlrZUJ1dHRvbiIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsInNob3dMaWtlcyIsIl9jYXJkVHJhc2giLCJfZWxlbWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJfZ2V0VGVtcGxhdGUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJzcmMiLCJhbHQiLCJpZCIsIl9zaG93RGVsZXRlSWNvbiIsImNvbnRhaW5lciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImNhcmRzIiwiZm9yRWFjaCIsImFwcGVuZCIsImNhcmRFbGVtZW50IiwicHJlcGVuZCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImUiLCJ3aGljaCIsImNsb3NlIiwidGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cFdpdGhJbWFnZSIsIl9pbWFnZSIsIlBvcHVwV2l0aEZvcm0iLCJwb3B1cFN1Ym1pdCIsIl9wb3B1cFN1Ym1pdCIsIl9mb3JtRWxlbWVudCIsIl9zdWJtaXRFdmVudEhhbmRsZXIiLCJvdXJBcnJheSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJtYXAiLCJpbnB1dCIsInZhbHVlIiwiaW5wdXRTdWJtaXRWYWx1ZSIsIl9nZXRJbnB1dFZhbHVlcyIsIl9pbmZvIiwicmVzZXQiLCJjYXJkSW5mbyIsIlVzZXJJbmZvIiwiYXZhdGFyIiwiX29jY3VwYXRpb24iLCJfYXZhdGFyIiwidXNlckluZm8iLCJGb3JtVmFsaWRhdG9yIiwiY29uZmlnIiwiZm9ybUVsZW1lbnQiLCJpbnB1dHMiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2lucHV0cyIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfaW5wdXRFcnJvckNsYXNzIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiX2lucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9lcnJvckNsYXNzIiwiQXJyYXkiLCJmcm9tIiwiX2J1dHRvbiIsImVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaGlkZUVycm9yTWVzc2FnZSIsIl9zaG93RXJyb3JNZXNzYWdlIiwiZXZlcnkiLCJkaXNhYmxlZCIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJBcGkiLCJiYXNlVVJMIiwiaGVhZGVycyIsIl9iYXNlVVJMIiwiX2hlYWRlcnMiLCJmZXRjaCIsInRoZW4iLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzVGV4dCIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImFsbCIsImdldFVzZXJJbmZvIiwiZ2V0SW5pdGlhbENhcmRzIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjYXJkSUQiLCJhYm91dCIsImF1dGhvcml6YXRpb24iLCJnZXRFbGVtZW50QnlJZCIsInZlY3RvckltZyIsImFwaSIsImNhcmRTZWN0aW9uIiwiU2VjdGlvbiIsInJlbmRlckNhcmQiLCJlZGl0Rm9ybVZhbGlkYXRvciIsImNhcmRGb3JtVmFsaWRhdG9yIiwiYXZhdGFyRm9ybVZhbGlkYXRvciIsImVuYWJsZVZhbGlkYXRpb24iLCJlZGl0UG9wdXAiLCJsb2FkaW5nTW9kYWwiLCJzZXRVc2VySW5mbyIsInNldEV2ZW50TGlzdGVuZXJzIiwidXNlckRhdGEiLCJvcGVuIiwiaW1hZ2VQb3B1cCIsImRlbGV0ZVBvcHVwIiwicmVtb3ZlTGlrZSIsInVwZGF0ZUxpa2VzIiwiYWRkTGlrZSIsImNhcmRMaWtlQ291bnRlciIsImdlbmVyYXRlQ2FyZCIsImhhbmRsZUF2YXRhciIsInNldFVzZXJBdmF0YXIiLCJhdmF0YXJQb3B1cCIsImdldEFwcEluZm8iLCJjYXJkTGlzdERldGFpbCIsImFkZENhcmRQb3B1cCIsImFkZENhcmQiLCJuZXdDYXJkIiwiYWRkSXRlbSIsImRpc2FibGVCdXR0b24iLCJlbGVtZW50IiwicmVtb3ZlQ2FyZCIsImlzTG9hZGluZyIsIm1vZGFsIl0sIm1hcHBpbmdzIjoiK0ZBQ0lBLEVBQTJCLEdBRy9CLFNBQVNDLEVBQW9CQyxHQUU1QixJQUFJQyxFQUFlSCxFQUF5QkUsR0FDNUMsUUFBcUJFLElBQWpCRCxFQUNILE9BQU9BLEVBQWFFLFFBR3JCLElBQUlDLEVBQVNOLEVBQXlCRSxHQUFZLENBR2pERyxRQUFTLElBT1YsT0FIQUUsRUFBb0JMLEdBQVVJLEVBQVFBLEVBQU9ELFFBQVNKLEdBRy9DSyxFQUFPRCxRQ3JCZkosRUFBb0JPLEVBQUksRyxXQ0F4QixJQUFNQyxFQUFpQixDQUNyQkMsYUFBYyxrQkFDZEMsY0FBZSxxQkFDZkMscUJBQXNCLHNCQUN0QkMsb0JBQXFCLDhCQUNyQkMsZ0JBQWlCLGdDQUNqQkMsV0FBWSw2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QUFjLENBQ3BDWixjQUFlLHFCQUNmYSxZQUFhLFlBQ1g4RixHQURpQyxFQUFuQnBLLFNBSWxCc0ssRUFBWVosb0JBQ1pwSyxtQkFBNkIsU0FBUyxXQUNwQzhKLEVBQWtCeUIsZ0JBQ2xCUCxFQUFZVixhQXNCaEIsSUFBTUUsR0FBYyxJQUFJekYsRUFBYyxDQUNwQ1osY0FBZSwwQkFDZmEsWUFBYSxZQUEwQixhQUF2Qm9FLEVBQXVCLEtBQWRvQyxFQUFjLEtBQ3JDdEIsSUFBYSxHQUNic0IsRUFBUTFJLFNBQ1IyRyxFQUFJZ0MsV0FBV3JDLEdBQ2RsQixNQUFLLFdBQ0pnQyxJQUFhLEdBQ2JNLEdBQVk5RixXQUdiK0QsT0FBTSxTQUFBQyxHQUFHLE9BQUlDLFFBQVFDLElBQUlGLFNBTTlCLFNBQVN3QixHQUFhd0IsRUFBV0MsR0FFN0I5TCxTQUFTQyxjQUFjLHVCQUF1QjBDLFlBRDdDa0osRUFDMkQsWUFFQSxPQVBoRWxCLEdBQVlKLG9CIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjsiLCJjb25zdCB2YWxpZGF0aW9uRm9ybSA9IHtcclxuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19wcm9maWxlXCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX3RleHQtaW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX2Zvcm0tc3VibWl0XCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fZm9ybS1zdWJtaXRfZGlzYWJsZWRcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwiLm1vZGFsX190ZXh0LWlucHV0X3R5cGVfZXJyb3JcIixcclxuICBlcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dC1lcnJvcl9hY3RpdmVcIixcclxufTtcclxuXHJcbi8vIERlY2xhcmF0aW9uc1xyXG5jb25zdCBvcGVuRWRpdFByb2ZpbGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idXR0b25cIik7XHJcbmNvbnN0IGFkZE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xyXG5jb25zdCBhdmF0YXJNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyLWJ1dHRvblwiKTtcclxuY29uc3QgZWRpdFByb2ZpbGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfdHlwZV9wcm9maWxlXCIpO1xyXG5jb25zdCBhZGRNb2RhbFBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF90eXBlX2FkZC1jYXJkXCIpO1xyXG5jb25zdCBwcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fbmFtZVwiKTtcclxuY29uc3QgcHJvZmlsZU9jY3VwYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX29jY3VwYXRpb25cIik7XHJcbmNvbnN0IGRlbGV0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF90eXBlX2RlbGV0ZS1jYXJkXCIpO1xyXG5jb25zdCBwcm9maWxlRm9ybSA9IGRvY3VtZW50LmZvcm1zLnByb2ZpbGU7XHJcbmNvbnN0IHByb2ZpbGVGb3JtTmFtZUlucHV0ID0gcHJvZmlsZUZvcm0uZWxlbWVudHMubmFtZTtcclxuY29uc3QgcHJvZmlsZUZvcm1PY2N1cGF0aW9uSW5wdXQgPSBwcm9maWxlRm9ybS5lbGVtZW50cy5vY2N1cGF0aW9uO1xyXG5jb25zdCBlc2NLZXkgPSAyNztcclxuY29uc3QgcHJldmlld01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF90eXBlX3ByZXZpZXdcIik7XHJcbmNvbnN0IHByZXZpZXdJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlXCIpO1xyXG5jb25zdCBwcm9maWxlQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXJcIik7XHJcblxyXG4vLyBFeHBvcnRzXHJcblxyXG5leHBvcnQge1xyXG4gIGRlbGV0ZU1vZGFsLFxyXG4gIHByb2ZpbGVBdmF0YXIsXHJcbiAgb3BlbkVkaXRQcm9maWxlTW9kYWwsXHJcbiAgYWRkTW9kYWwsXHJcbiAgZWRpdFByb2ZpbGVNb2RhbCxcclxuICBhZGRNb2RhbFBvcHVwLFxyXG4gIHByb2ZpbGVOYW1lLFxyXG4gIHByb2ZpbGVPY2N1cGF0aW9uLFxyXG4gIHByb2ZpbGVGb3JtLFxyXG4gIHByb2ZpbGVGb3JtTmFtZUlucHV0LFxyXG4gIHByb2ZpbGVGb3JtT2NjdXBhdGlvbklucHV0LFxyXG4gIHZhbGlkYXRpb25Gb3JtLFxyXG4gIHByZXZpZXdNb2RhbCxcclxuICBwcmV2aWV3SW1hZ2UsXHJcbiAgZXNjS2V5LFxyXG4gIGF2YXRhck1vZGFsXHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuICAgIGNvbnN0cnVjdG9yKHtkYXRhLCBoYW5kbGVDYXJkQ2xpY2ssIGhhbmRsZURlbGV0ZUNsaWNrLCBsaWtlSGFuZGxlcn0sdXNlcklkLCB0ZW1wbGF0ZSkge1xyXG4gICAgICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICAgICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgICAgICB0aGlzLl9vd25lciA9IGRhdGEub3duZXI7XHJcbiAgICAgICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xyXG4gICAgICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcclxuXHJcbiAgICAgICAgdGhpcy5fdGVtcGxhdGUgPSB0ZW1wbGF0ZTtcclxuICAgICAgICB0aGlzLl9pZCA9IGRhdGEuX2lkO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrID0gaGFuZGxlRGVsZXRlQ2xpY2tcclxuXHJcbiAgICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xyXG5cclxuICAgICAgICB0aGlzLl9saWtlSGFuZGxlciA9IGxpa2VIYW5kbGVyXHJcbiAgICB9XHJcblxyXG4gICAgaWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkO1xyXG4gICAgfVxyXG5cclxuICAgIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGVtcGxhdGUpLmNvbnRlbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnQnKS5jbG9uZU5vZGUodHJ1ZSk7XHJcblxyXG4gICAgICAgIHJldHVybiBjYXJkRWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICBpc0xpa2VkKCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpa2VzLnNvbWUoaXRlbSA9PiBpdGVtLl9pZCA9PT0gdGhpcy5fdXNlcklkKTtcclxuICAgIH1cclxuXHJcbiAgICBzaG93TGlrZXMoKXtcclxuICAgICAgICB0aGlzLl9jYXJkTGlrZXMudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNMaWtlZCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZCgnZWxlbWVudF9fYnV0dG9uX2FjdGl2ZScpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnZWxlbWVudF9fYnV0dG9uX2FjdGl2ZScpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVMaWtlcyhsaWtlcykge1xyXG4gICAgICAgIHRoaXMuX2xpa2VzID0gbGlrZXM7XHJcbiAgICAgICAgdGhpcy5zaG93TGlrZXMoKTtcclxuICAgIH1cclxuXHJcbiAgICBfc2hvd0RlbGV0ZUljb24oKXsgXHJcbiAgICAgICAgaWYodGhpcy5fb3duZXIuX2lkID09PSB0aGlzLl91c2VySWQpeyBcclxuICAgICAgICAgICAgdGhpcy5fY2FyZFRyYXNoLmNsYXNzTGlzdC5hZGQoJ2VsZW1lbnRfX2RlbGV0ZS1idXR0b25fYWN0aXZlJyk7IFxyXG4gICAgICAgIH0gXHJcbiAgICB9XHJcblxyXG4gICAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2J1dHRvbicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5fbGlrZUhhbmRsZXIodGhpcywgdGhpcy5faWQpKTtcclxuICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19kZWxldGUtYnV0dG9uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLl9oYW5kbGVEZWxldGVDbGljayhbdGhpcy5faWQsIHRoaXMuX2VsZW1lbnRdKSk7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9faW1hZ2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuX2hhbmRsZUNhcmRDbGljayh7bmFtZTogdGhpcy5fbmFtZSwgbGluazogdGhpcy5fbGlua30pKTtcclxuICAgIH1cclxuXHJcbiAgICBnZW5lcmF0ZUNhcmQoKSB7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICAgICAgdGhpcy5fY2FyZFRyYXNoID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fZGVsZXRlLWJ1dHRvbicpO1xyXG5cclxuICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X190ZXh0JykudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2ltYWdlJykuc3JjID0gdGhpcy5fbGluaztcclxuICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19pbWFnZScpLmFsdCA9IHRoaXMuX25hbWU7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudC5pZCA9IHRoaXMuX2lkO1xyXG5cclxuICAgICAgICB0aGlzLl9jYXJkTGlrZXMgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlcycpO1xyXG4gICAgICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19idXR0b24nKTtcclxuXHJcbiAgICAgICAgdGhpcy5fc2hvd0RlbGV0ZUljb24oKTtcclxuICAgICAgICB0aGlzLnNob3dMaWtlcygpO1xyXG5cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgICB9XHJcbn0iLCJjbGFzcyBTZWN0aW9uIHtcclxuICAgIGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIgfSwgY29udGFpbmVyKSB7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyZXIoY2FyZHMpIHtcclxuICAgICAgICBjYXJkcy5mb3JFYWNoKChpdGVtKSA9PiB0aGlzLl9jb250YWluZXIuYXBwZW5kKHRoaXMuX3JlbmRlcmVyKGl0ZW0pKSk7XHJcbiAgICB9XHJcbiAgICBhZGRJdGVtKGNhcmRFbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoY2FyZEVsZW1lbnQpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2VjdGlvbjsiLCJpbXBvcnQgeyBlc2NLZXkgfSBmcm9tIFwiLi91dGlsc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW4oKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ21vZGFsX29wZW4nKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdtb2RhbF9vcGVuJyk7XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgIH1cclxuXHJcbiAgICBfaGFuZGxlRXNjQ2xvc2UoZSkge1xyXG4gICAgICAgIGlmKGUud2hpY2ggPT0gZXNjS2V5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAgICAgaWYoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtb2RhbF9fY2xvc2UtYnV0dG9uJykgfHwgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtb2RhbF9vcGVuJykpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkgICAgIFxyXG4gICAgfVxyXG59O1xyXG5cclxuXHJcblxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2ltYWdlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlXCIpO1xyXG4gICAgICAgIHRoaXMuX25hbWUgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2UtY2FwdGlvblwiKTtcclxuICAgIH1cclxuXHJcbiAgICBvcGVuKHtuYW1lLCBsaW5rfSkge1xyXG4gICAgICAgIHRoaXMuX2ltYWdlLnNyYyA9IGxpbmtcclxuICAgICAgICB0aGlzLl9pbWFnZS5hbHQgPSBuYW1lXHJcbiAgICAgICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IG5hbWVcclxuICAgICAgICBzdXBlci5vcGVuKCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7cG9wdXBTZWxlY3RvciwgcG9wdXBTdWJtaXR9KSB7XHJcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBTdWJtaXQgPSBwb3B1cFN1Ym1pdDtcclxuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19wcm9maWxlXCIpO1xyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEV2ZW50SGFuZGxlciA9IHRoaXMuX3N1Ym1pdEV2ZW50SGFuZGxlci5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgICAgICBpZih0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX190ZXh0LWlucHV0JykpIHtcclxuICAgICAgICAgICAgY29uc3Qgb3VyQXJyYXkgPSBbLi4udGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tb2RhbF9fdGV4dC1pbnB1dCcpXS5tYXAoaW5wdXQgPT4gaW5wdXQudmFsdWUpO1xyXG4gICAgICAgICAgICByZXR1cm4ge25hbWU6IG91ckFycmF5WzBdLCBsaW5rOiBvdXJBcnJheVsxXX07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9zdWJtaXRFdmVudEhhbmRsZXIoKXtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBpbnB1dFN1Ym1pdFZhbHVlID0gdGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSB8fCB0aGlzLl9pbmZvO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwU3VibWl0KGlucHV0U3VibWl0VmFsdWUpO1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgdGhpcy5fc3VibWl0RXZlbnRIYW5kbGVyKTtcclxuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnJlc2V0KCk7XHJcbiAgICAgICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBvcGVuKGNhcmRJbmZvKXtcclxuICAgICAgICBzdXBlci5vcGVuKCk7XHJcbiAgICAgICAgdGhpcy5faW5mbyA9IGNhcmRJbmZvO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHsgbmFtZSwgbGluaywgYXZhdGFyIH0pIHtcclxuICAgIHRoaXMuX25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWUpO1xyXG4gICAgdGhpcy5fb2NjdXBhdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobGluayk7XHJcbiAgICB0aGlzLl9hdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhcik7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiAodGhpcy51c2VySW5mbyA9IFtcclxuICAgICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCxcclxuICAgICAgdGhpcy5fb2NjdXBhdGlvbi50ZXh0Q29udGVudCxcclxuICAgICAgdGhpcy5fYXZhdGFyLnNyYyxcclxuICAgIF0pO1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8obmFtZSwgbGluaywgYXZhdGFyKSB7XHJcbiAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIHRoaXMuX29jY3VwYXRpb24udGV4dENvbnRlbnQgPSBsaW5rO1xyXG4gICAgdGhpcy5fYXZhdGFyLnNyYyA9IGF2YXRhcjtcclxuICB9XHJcbn1cclxuIiwiLy8gQ2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3IoY29uZmlnLCBmb3JtRWxlbWVudCkge1xyXG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IGNvbmZpZy5pbnB1dFNlbGVjdG9yO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBjb25maWcuaW5wdXRFcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IGNvbmZpZy5lcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IGZvcm1FbGVtZW50O1xyXG5cclxuICAgIHRoaXMuX2lucHV0cyA9IEFycmF5LmZyb20oXHJcbiAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKVxyXG4gICAgKTtcclxuICAgIHRoaXMuX2J1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBfc2hvd0Vycm9yTWVzc2FnZShpbnB1dCkge1xyXG4gICAgY29uc3QgZXJyb3IgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjXCIgKyBpbnB1dC5pZCArIFwiLWVycm9yXCIpO1xyXG5cclxuICAgIGVycm9yLnRleHRDb250ZW50ID0gaW5wdXQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgICBlcnJvci5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gICAgaW5wdXQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX2hpZGVFcnJvck1lc3NhZ2UoaW5wdXQpIHtcclxuICAgIGNvbnN0IGVycm9yID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiI1wiICsgaW5wdXQuaWQgKyBcIi1lcnJvclwiKTtcclxuXHJcbiAgICBlcnJvci50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICBlcnJvci5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dCkge1xyXG4gICAgaWYgKCFpbnB1dC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9zaG93RXJyb3JNZXNzYWdlKGlucHV0LCBpbnB1dC52YWxpZGF0aW9uTWVzc2FnZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlRXJyb3JNZXNzYWdlKGlucHV0KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9oYXNJbnZhbGlkSW5wdXQgPSAoaW5wdXRzKSA9PiB7XHJcbiAgICByZXR1cm4gaW5wdXRzLnNvbWUoKGlucHV0KSA9PiB7XHJcbiAgICAgIHJldHVybiAhaW5wdXQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICBjb25zdCBpc1ZhbGlkID0gdGhpcy5faW5wdXRzLmV2ZXJ5KChpbnB1dCkgPT4gIWlucHV0LnZhbGlkaXR5LnZhbGlkKTtcclxuXHJcbiAgICBpZiAoaXNWYWxpZCkge1xyXG4gICAgICB0aGlzLl9idXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgdGhpcy5fYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICB0aGlzLl9idXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGRpc2FibGVCdXR0b24oKXtcclxuICAgIHRoaXMuX2J1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgdGhpcy5fYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcclxuICAgIHRoaXMuX2lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dCwgdGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSh0aGlzLl9lbGVtZW50LCB0aGlzLl9pbnB1dFNlbGVjdG9yKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldmVudCkgPT4ge1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKHsgYmFzZVVSTCwgaGVhZGVycyB9KSB7XHJcbiAgICB0aGlzLl9iYXNlVVJMID0gYmFzZVVSTDtcclxuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xyXG4gIH1cclxuXHJcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVUkwgKyBcIi9jYXJkc1wiLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PlxyXG4gICAgICAgIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChcIkVycm9yXCIgKyByZXMuc3RhdHVzVGV4dClcclxuICAgICAgKVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVVJMICsgXCIvdXNlcnMvbWVcIiwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4oKHJlcykgPT5cclxuICAgICAgICByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QoXCJFcnJvclwiICsgcmVzLnN0YXR1c1RleHQpXHJcbiAgICAgIClcclxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG4gIH1cclxuXHJcbiAgZ2V0QXBwSW5mbygpIHtcclxuICAgIHJldHVybiBQcm9taXNlLmFsbChbdGhpcy5nZXRVc2VySW5mbygpLCB0aGlzLmdldEluaXRpYWxDYXJkcygpXSk7XHJcbiAgfVxyXG5cclxuICBhZGRDYXJkKHsgbmFtZSwgbGluayB9KSB7XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVSTCArIFwiL2NhcmRzXCIsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWUsXHJcbiAgICAgICAgbGluayxcclxuICAgICAgfSksXHJcbiAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PlxyXG4gICAgICAgIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChcIkVycm9yXCIgKyByZXMuc3RhdHVzVGV4dClcclxuICAgICAgKVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbiAgfVxyXG5cclxuICByZW1vdmVDYXJkKGNhcmRJRCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgZmV0Y2godGhpcy5fYmFzZVVSTCArIFwiL2NhcmRzL1wiICsgY2FyZElELCB7XHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oKHJlcykgPT5cclxuICAgICAgICAgIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChcIkVycm9yXCIgKyByZXMuc3RhdHVzVGV4dClcclxuICAgICAgICApXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgYWRkTGlrZShjYXJkSUQpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIGZldGNoKHRoaXMuX2Jhc2VVUkwgKyBcIi9jYXJkcy9saWtlcy9cIiArIGNhcmRJRCwge1xyXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICB9KVxyXG4gICAgICAgIC50aGVuKChyZXMpID0+XHJcbiAgICAgICAgICByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QoXCJFcnJvclwiICsgcmVzLnN0YXR1c1RleHQpXHJcbiAgICAgICAgKVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHJlbW92ZUxpa2UoY2FyZElEKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICBmZXRjaCh0aGlzLl9iYXNlVVJMICsgXCIvY2FyZHMvbGlrZXMvXCIgKyBjYXJkSUQsIHtcclxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgfSlcclxuICAgICAgICAudGhlbigocmVzKSA9PlxyXG4gICAgICAgICAgcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KFwiRXJyb3JcIiArIHJlcy5zdGF0dXNUZXh0KVxyXG4gICAgICAgIClcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyh7IG5hbWUsIGFib3V0IH0pIHtcclxuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVVJMICsgXCIvdXNlcnMvbWUvXCIsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiBcImYzY2Y2ODlmLWU5MDMtNGI1Yi05ZDc3LTJiMGI0MDQ4ZDQ1NVwiLFxyXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICB9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZSxcclxuICAgICAgICBhYm91dCxcclxuICAgICAgfSksXHJcbiAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PlxyXG4gICAgICAgIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChcIkVycm9yXCIgKyByZXMuc3RhdHVzVGV4dClcclxuICAgICAgKVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbiAgfVxyXG5cclxuICBzZXRVc2VyQXZhdGFyKGF2YXRhcikge1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVUkwgKyBcIi91c2Vycy9tZS9hdmF0YXIvXCIsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBhdmF0YXIsXHJcbiAgICAgIH0pLFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4oKHJlcykgPT5cclxuICAgICAgICByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QoXCJFcnJvclwiICsgcmVzLnN0YXR1c1RleHQpXHJcbiAgICAgIClcclxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG4gIH1cclxufVxyXG4iLCIvLyBJbXBvcnRzXHJcblxyXG5pbXBvcnQgXCIuLi9zdHlsZXMvaW5kZXguY3NzXCI7IC8vIGFkZCBpbXBvcnQgb2YgdGhlIG1haW4gc3R5bGVzaGVldHMgZmlsZVxyXG5pbXBvcnQge1xyXG4gIGRlbGV0ZU1vZGFsLFxyXG4gIG9wZW5FZGl0UHJvZmlsZU1vZGFsLFxyXG4gIGFkZE1vZGFsLFxyXG4gIGVkaXRQcm9maWxlTW9kYWwsXHJcbiAgYWRkTW9kYWxQb3B1cCxcclxuICBwcm9maWxlTmFtZSxcclxuICBwcm9maWxlT2NjdXBhdGlvbixcclxuICBwcm9maWxlRm9ybU5hbWVJbnB1dCxcclxuICBwcm9maWxlRm9ybU9jY3VwYXRpb25JbnB1dCxcclxuICB2YWxpZGF0aW9uRm9ybSxcclxuICBwcm9maWxlQXZhdGFyLFxyXG4gIGF2YXRhck1vZGFsLFxyXG59IGZyb20gXCIuLi9zY3JpcHRzL3V0aWxzLmpzXCI7XHJcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9zY3JpcHRzL0NhcmQuanNcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL3NjcmlwdHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL3NjcmlwdHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL3NjcmlwdHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL3NjcmlwdHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL3NjcmlwdHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgQXBpIGZyb20gXCIuLi9zY3JpcHRzL0FwaS5qc1wiO1xyXG5cclxuLy8gVmlzdWFsIENvbXBvbmVudHNcclxuaW1wb3J0IHZlY3RvckltZyBmcm9tIFwiLi4vaW1hZ2VzL1ZlY3Rvci5zdmdcIjtcclxuXHJcbmNvbnN0IHZlY3RvckltYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2ZWN0b3ItaW1hZ2VcIik7XHJcbnZlY3RvckltYWdlLnNyYyA9IHZlY3RvckltZztcclxuXHJcbi8vIERlY2xhcmUgQVBJXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gIGJhc2VVUkw6IFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9ncm91cC0xMlwiLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246IFwiZjNjZjY4OWYtZTkwMy00YjViLTlkNzctMmIwYjQwNDhkNDU1XCIsXHJcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICB9LFxyXG59KTtcclxuXHJcbmNvbnN0IGNhcmRTZWN0aW9uID0gbmV3IFNlY3Rpb24oXHJcbiAge1xyXG4gICAgcmVuZGVyZXI6IHJlbmRlckNhcmQsXHJcbiAgfSxcclxuICBcIi5lbGVtZW50c1wiXHJcbik7XHJcblxyXG5cclxuLy8gRm9ybSBWYWxpZGF0aW9uXHJcbmNvbnN0IGVkaXRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkZvcm0sIGVkaXRQcm9maWxlTW9kYWwpO1xyXG5jb25zdCBjYXJkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Gb3JtLCBhZGRNb2RhbFBvcHVwKTtcclxuY29uc3QgYXZhdGFyRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Gb3JtLCBhdmF0YXJNb2RhbCk7XHJcbmVkaXRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuY2FyZEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5hdmF0YXJGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcclxuICBuYW1lOiBcIi5wcm9maWxlX19uYW1lXCIsXHJcbiAgbGluazogXCIucHJvZmlsZV9fb2NjdXBhdGlvblwiLFxyXG4gIGF2YXRhcjogXCIucHJvZmlsZV9fYXZhdGFyXCIsXHJcbn0pO1xyXG5cclxuXHJcblxyXG4vLyBFZGl0IFByb2ZpbGUgUG9wdXBcclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUVkaXRCdXR0b24oe25hbWUsIGxpbmt9KXtcclxuICBsb2FkaW5nTW9kYWwodHJ1ZSwgZWRpdFBvcHVwKVxyXG4gIGFwaS5zZXRVc2VySW5mbyh7IG5hbWU6IG5hbWUsIGFib3V0OiBsaW5rIH0pXHJcbiAgLnRoZW4ocmVzID0+IHtcclxuICAgIHByb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gcmVzLm5hbWU7XHJcbiAgICBwcm9maWxlT2NjdXBhdGlvbi50ZXh0Q29udGVudCA9IHJlcy5hYm91dDtcclxuICAgIGxvYWRpbmdNb2RhbChmYWxzZSwgZWRpdFBvcHVwKTtcclxuICAgIGVkaXRQb3B1cC5jbG9zZSgpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG59XHJcblxyXG5jb25zdCBlZGl0UG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgcG9wdXBTZWxlY3RvcjogXCIubW9kYWxfdHlwZV9wcm9maWxlXCIsXHJcbiAgcG9wdXBTdWJtaXQ6ICh7IG5hbWUgLCBsaW5rIH0pID0+IHtcclxuICAgIGhhbmRsZUVkaXRCdXR0b24oeyBuYW1lICwgbGluayB9KTtcclxuICB9LFxyXG59KTtcclxuXHJcbmVkaXRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxub3BlbkVkaXRQcm9maWxlTW9kYWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBjb25zdCB1c2VyRGF0YSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XHJcbiAgcHJvZmlsZUZvcm1OYW1lSW5wdXQudmFsdWUgPSB1c2VyRGF0YVswXTtcclxuICBwcm9maWxlRm9ybU9jY3VwYXRpb25JbnB1dC52YWx1ZSA9IHVzZXJEYXRhWzFdO1xyXG4gIGVkaXRQb3B1cC5vcGVuKCk7XHJcbn0pO1xyXG5cclxuXHJcblxyXG4vLyBQcmV2aWV3IEltYWdlIFBvcHVwXHJcbmNvbnN0IGltYWdlUG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIubW9kYWxfdHlwZV9wcmV2aWV3XCIpO1xyXG5pbWFnZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5mdW5jdGlvbiByZW5kZXJDYXJkKGRhdGEpIHtcclxuICBsZXQgb3VyQ2FyZCA9IG5ldyBDYXJkKFxyXG4gICAge1xyXG4gICAgICBkYXRhLFxyXG4gICAgICBoYW5kbGVDYXJkQ2xpY2s6ICh7IG5hbWUsIGxpbmsgfSkgPT4ge1xyXG4gICAgICAgIGltYWdlUG9wdXAub3Blbih7IG5hbWUsIGxpbmsgfSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGhhbmRsZURlbGV0ZUNsaWNrOiAoY2FyZEluZm8pID0+IHtcclxuICAgICAgICBkZWxldGVQb3B1cC5vcGVuKGNhcmRJbmZvKTtcclxuICAgICAgfSxcclxuICAgICAgbGlrZUhhbmRsZXI6IChjYXJkRWxlbWVudCwgY2FyZElEKSA9PiB7XHJcbiAgICAgICAgY2FyZExpa2VDb3VudGVyKGNhcmRFbGVtZW50LCBjYXJkSUQpO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIHVzZXJJZCxcclxuICAgIFwiI2NhcmQtdGVtcGxhdGVcIlxyXG4gICk7XHJcbiAgcmV0dXJuIG91ckNhcmQuZ2VuZXJhdGVDYXJkKCk7XHJcbn1cclxuXHJcblxyXG4vLyBDYXJkIExpa2VzXHJcbmZ1bmN0aW9uIGNhcmRMaWtlQ291bnRlcihjYXJkRWxlbWVudCwgY2FyZElEKSB7XHJcbiAgaWYgKGNhcmRFbGVtZW50LmlzTGlrZWQoKSkge1xyXG4gICAgYXBpXHJcbiAgICAgIC5yZW1vdmVMaWtlKGNhcmRJRClcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIGNhcmRFbGVtZW50LnVwZGF0ZUxpa2VzKHJlcy5saWtlcyk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuICB9IGVsc2Uge1xyXG4gICAgYXBpXHJcbiAgICAgIC5hZGRMaWtlKGNhcmRJRClcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIGNhcmRFbGVtZW50LnVwZGF0ZUxpa2VzKHJlcy5saWtlcyk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuICB9XHJcbn1cclxuXHJcblxyXG4vLyBBZGQgQ2FyZCBhbmQgQXZhdGFyIFBvcHVwXHJcbmFwaS5nZXRBcHBJbmZvKCkudGhlbigoW3VzZXJEYXRhLCBjYXJkTGlzdERldGFpbF0pID0+IHtcclxuICB1c2VySWQgPSB1c2VyRGF0YS5faWQ7XHJcbiAgdXNlckluZm8uc2V0VXNlckluZm8odXNlckRhdGEubmFtZSwgdXNlckRhdGEuYWJvdXQsIHVzZXJEYXRhLmF2YXRhcik7XHJcbiAgY2FyZFNlY3Rpb24ucmVuZGVyZXIoY2FyZExpc3REZXRhaWwpO1xyXG5cclxuICBjb25zdCBhZGRDYXJkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgICBwb3B1cFNlbGVjdG9yOiBcIi5tb2RhbF90eXBlX2FkZC1jYXJkXCIsXHJcbiAgICBwb3B1cFN1Ym1pdDogKGRhdGEpID0+IHtcclxuICAgICAgYXBpLmFkZENhcmQoZGF0YSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbmV3Q2FyZCA9IHJlbmRlckNhcmQocmVzKTtcclxuICAgICAgICBjYXJkU2VjdGlvbi5hZGRJdGVtKG5ld0NhcmQpO1xyXG4gICAgICB9KTtcclxuICAgIH0sXHJcbiAgfSk7XHJcbiAgYWRkQ2FyZFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgYWRkTW9kYWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGFkZENhcmRQb3B1cC5vcGVuKCk7XHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IGF2YXRhclBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gICAgcG9wdXBTZWxlY3RvcjogXCIubW9kYWxfdHlwZV9hdmF0YXJcIixcclxuICAgIHBvcHVwU3VibWl0OiAoeyBuYW1lOiBhdmF0YXIgfSkgPT4ge1xyXG4gICAgICBoYW5kbGVBdmF0YXIoYXZhdGFyKVxyXG4gICAgfSxcclxuICB9KTtcclxuICBhdmF0YXJQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIGF2YXRhck1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBjYXJkRm9ybVZhbGlkYXRvci5kaXNhYmxlQnV0dG9uKCk7XHJcbiAgICBhdmF0YXJQb3B1cC5vcGVuKCk7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxubGV0IHVzZXJJZDtcclxuXHJcblxyXG4vLyBBdmF0YXIgUG9wdXAgSGFuZGxlclxyXG5mdW5jdGlvbiBoYW5kbGVBdmF0YXIoYXZhdGFyKXtcclxuICBsb2FkaW5nTW9kYWwodHJ1ZSwgcHJvZmlsZUF2YXRhcik7XHJcblxyXG4gIGFwaS5zZXRVc2VyQXZhdGFyKGF2YXRhcilcclxuICAudGhlbihyZXMgPT4ge1xyXG4gICAgcHJvZmlsZUF2YXRhci5zcmMgPSByZXMuYXZhdGFyO1xyXG4gICAgbG9hZGluZ01vZGFsKGZhbHNlLCBwcm9maWxlQXZhdGFyKTtcclxuICAgIGF2YXRhclBvcHVwLmNsb3NlKCk7XHJcbiAgfSlcclxuICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG59XHJcblxyXG5cclxuLy8gRGVsZXRlIENhcmQgUG9wdXBcclxuY29uc3QgZGVsZXRlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgcG9wdXBTZWxlY3RvcjogXCIubW9kYWxfdHlwZV9kZWxldGUtY2FyZFwiLFxyXG4gIHBvcHVwU3VibWl0OiAoWyBjYXJkSUQgLCBlbGVtZW50IF0pID0+IHtcclxuICAgIGxvYWRpbmdNb2RhbCh0cnVlLCBkZWxldGVNb2RhbCk7XHJcbiAgICBlbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgYXBpLnJlbW92ZUNhcmQoY2FyZElEKVxyXG4gICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICBsb2FkaW5nTW9kYWwoZmFsc2UsIGRlbGV0ZU1vZGFsKTtcclxuICAgICAgZGVsZXRlUG9wdXAuY2xvc2UoKTtcclxuICAgICAgXHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuICB9XHJcbn0pXHJcbmRlbGV0ZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vLyBMb2FkaW5nIFVJXHJcbmZ1bmN0aW9uIGxvYWRpbmdNb2RhbChpc0xvYWRpbmcsIG1vZGFsKXtcclxuICBpZihpc0xvYWRpbmcpIHtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fZm9ybS1zdWJtaXQnKS50ZXh0Q29udGVudCA9IFwiU2F2aW5nLi4uXCI7XHJcbiAgfSBlbHNlIHtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fZm9ybS1zdWJtaXQnKS50ZXh0Q29udGVudCA9IFwiU2F2ZVwiO1xyXG4gIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=