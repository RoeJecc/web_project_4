!function(){"use strict";var e={346:function(e,t,n){e.exports=n.p+"4e8e0a1d604782a0dff8.svg"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.p="",function(){var e={formSelector:".modal__profile",inputSelector:".modal__text-input",submitButtonSelector:".modal__form-submit",inactiveButtonClass:"modal__form-submit_disabled",inputErrorClass:".modal__text-input_type_error",errorClass:"modal__input-error_active"},t=document.querySelector(".profile__edit-button"),r=document.querySelector(".profile__add-button"),o=document.querySelector(".profile__avatar-button"),i=document.querySelector(".modal_type_profile"),a=document.querySelector(".modal_type_add-card"),u=document.querySelector(".profile__name"),s=document.querySelector(".profile__occupation"),l=(document.querySelector(".modal_type_delete-card"),document.forms.profile),c=l.elements.name,f=l.elements.occupation,h=(document.querySelector(".modal_type_preview"),document.querySelector(".modal__image"),document.querySelector(".profile__avatar"));function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=function(){function e(t,n,r){var o=t.data,i=t.handleCardClick,a=t.handleDeleteClick,u=t.likeHandler;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=o.name,this._link=o.link,this._owner=o.owner,this._userId=n,this._likes=o.likes,this._template=r,this._id=o._id,this._handleDeleteClick=a,this._handleCardClick=i,this._likeHandler=u}var t,n;return t=e,(n=[{key:"id",value:function(){return this._id}},{key:"_getTemplate",value:function(){return document.querySelector(this._template).content.querySelector(".element").cloneNode(!0)}},{key:"isLiked",value:function(){var e=this;return this._likes.some((function(t){return t._id===e._userId}))}},{key:"showLikes",value:function(){this._cardLikes.textContent=this._likes.length,this.isLiked()?this._likeButton.classList.add("element__button_active"):this._likeButton.classList.remove("element__button_active")}},{key:"updateLikes",value:function(e){this._likes=e,this.showLikes()}},{key:"_showDeleteIcon",value:function(){this._owner._id===this._userId&&this._cardTrash.classList.add("element__delete-button_active")}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".element__button").addEventListener("click",(function(){return e._likeHandler(e,e._id)})),this._element.querySelector(".element__delete-button").addEventListener("click",(function(){return e._handleDeleteClick([e._id,e._element])})),this._element.querySelector(".element__image").addEventListener("click",(function(){return e._handleCardClick({name:e._name,link:e._link})}))}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._setEventListeners(),this._cardTrash=this._element.querySelector(".element__delete-button"),this._element.querySelector(".element__text").textContent=this._name,this._element.querySelector(".element__image").src=this._link,this._element.querySelector(".element__image").alt=this._name,this._element.id=this._id,this._cardLikes=this._element.querySelector(".element__likes"),this._likeButton=this._element.querySelector(".element__button"),this._showDeleteIcon(),this.showLikes(),this._element}}])&&p(t.prototype,n),e}();function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderer",value:function(e){var t=this;e.forEach((function(e){return t._container.append(t._renderer(e))}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&_(t.prototype,n),e}();function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var v=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupElement=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popupElement.classList.add("modal_open"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove("modal_open"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){27==e.which&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.addEventListener("click",(function(t){(t.target.classList.contains("modal__close-button")||t.target.classList.contains("modal_open"))&&e.close()}))}}])&&y(t.prototype,n),e}();function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=w(r);if(o){var n=w(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return E(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._image=t._popupElement.querySelector(".modal__image"),t._name=t._popupElement.querySelector(".modal__image-caption"),t}return t=a,(n=[{key:"open",value:function(e){var t=e.name,n=e.link;this._image.src=n,this._image.alt=t,this._name.textContent=t,g(w(a.prototype),"open",this).call(this)}}])&&k(t.prototype,n),a}(v);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t,n){return(q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=I(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?T(e):t}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=I(r);if(o){var n=I(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return x(this,e)});function a(e){var t,n=e.popupSelector,r=e.popupSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,n))._popupSubmit=r,t._formElement=t._popupElement.querySelector(".modal__profile"),t._submitEventHandler=t._submitEventHandler.bind(T(t)),t}return t=a,(n=[{key:"_getInputValues",value:function(){if(this._popupElement.querySelector(".modal__text-input")){var e=(t=this._popupElement.querySelectorAll(".modal__text-input"),function(e){if(Array.isArray(e))return j(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){return e.value}));return{name:e[0],link:e[1]}}var t}},{key:"_submitEventHandler",value:function(){var e=this._getInputValues()||this._info;this._popupSubmit(e),this.close()}},{key:"setEventListeners",value:function(){this._popupElement.addEventListener("submit",this._submitEventHandler),q(I(a.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){this._formElement.reset(),q(I(a.prototype),"close",this).call(this)}},{key:"open",value:function(e){q(I(a.prototype),"open",this).call(this),this._info=e}}])&&O(t.prototype,n),a}(v);function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var A=function(){function e(t){var n=t.name,r=t.link,o=t.avatar;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(n),this._occupation=document.querySelector(r),this._avatar=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return this.userInfo=[this._name.textContent,this._occupation.textContent,this._avatar.src]}},{key:"setUserInfo",value:function(e,t,n){this._name.textContent=e,this._occupation.textContent=t,this._avatar.src=n}}])&&U(t.prototype,n),e}();function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var D=function(){function e(t,n){var r,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=function(){i._inputs.forEach((function(e){e.addEventListener("input",(function(){i._checkInputValidity(e),i._toggleButtonState(i._element,i._inputSelector)}))}))},(r="_setEventListeners")in this?Object.defineProperty(this,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[r]=o,this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._element=n,this._inputs=Array.from(this._element.querySelectorAll(this._inputSelector)),this._button=this._element.querySelector(this._submitButtonSelector)}var t,n;return t=e,(n=[{key:"_showErrorMessage",value:function(e){var t=this._element.querySelector("#"+e.id+"-error");t.textContent=e.validationMessage,t.classList.add(this._errorClass),e.classList.add(this._inputErrorClass)}},{key:"_hideErrorMessage",value:function(e){var t=this._element.querySelector("#"+e.id+"-error");t.textContent="",t.classList.remove(this._errorClass),e.classList.remove(this._inputErrorClass)}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideErrorMessage(e):this._showErrorMessage(e,e.validationMessage)}},{key:"_toggleButtonState",value:function(){this._inputs.every((function(e){return e.validity.valid}))?(this._button.classList.remove(this._inactiveButtonClass),this._button.disabled=!1):(this._button.classList.add(this._inactiveButtonClass),this._button.disabled=!0)}},{key:"disableButton",value:function(){this._button.classList.add(this._inactiveButtonClass),this._button.disabled=!0}},{key:"enableValidation",value:function(){this._element.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners()}}])&&B(t.prototype,n),e}();function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var M=function(){function e(t){var n=t.baseURL,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseURL=n,this._headers=r}var t,n;return t=e,(n=[{key:"getInitialCards",value:function(){return fetch(this._baseURL+"/cards",{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error"+e.statusText)})).catch((function(e){return console.log(e)}))}},{key:"getUserInfo",value:function(){return fetch(this._baseURL+"/users/me",{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error"+e.statusText)})).catch((function(e){return console.log(e)}))}},{key:"getAppInfo",value:function(){return Promise.all([this.getUserInfo(),this.getInitialCards()])}},{key:"addCard",value:function(e){var t=e.name,n=e.link;return fetch(this._baseURL+"/cards",{headers:this._headers,method:"POST",body:JSON.stringify({name:t,link:n})}).then((function(e){return e.ok?e.json():Promise.reject("Error"+e.statusText)})).catch((function(e){return console.log(e)}))}},{key:"removeCard",value:function(e){return fetch(this._baseURL+"/cards/"+e,{headers:this._headers,method:"DELETE"}).then((function(e){return e.ok?e.json():Promise.reject("Error"+e.statusText)})).catch((function(e){return console.log(e)}))}},{key:"addLike",value:function(e){return fetch(this._baseURL+"/cards/likes/"+e,{headers:this._headers,method:"PUT"}).then((function(e){return e.ok?e.json():Promise.reject("Error"+e.statusText)})).catch((function(e){return console.log(e)}))}},{key:"removeLike",value:function(e){return fetch(this._baseURL+"/cards/likes/"+e,{headers:this._headers,method:"DELETE"}).then((function(e){return e.ok?e.json():Promise.reject("Error"+e.statusText)})).catch((function(e){return console.log(e)}))}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.about;return fetch(this._baseURL+"/users/me/",{method:"PATCH",headers:{authorization:"f3cf689f-e903-4b5b-9d77-2b0b4048d455","Content-Type":"application/json"},body:JSON.stringify({name:t,about:n})}).then((function(e){return e.ok?e.json():Promise.reject("Error"+e.statusText)})).catch((function(e){return console.log(e)}))}},{key:"setUserAvatar",value:function(e){return fetch(this._baseURL+"/users/me/avatar/",{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:e})}).then((function(e){return e.ok?e.json():Promise.reject("Error"+e.statusText)})).catch((function(e){return console.log(e)}))}}])&&H(t.prototype,n),e}(),V=n(346);function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}document.getElementById("vector-image").src=V;var z=new M({baseURL:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"f3cf689f-e903-4b5b-9d77-2b0b4048d455","Content-Type":"application/json"}}),$=new m({renderer:Z},".elements"),F=new D(e,i),G=new D(e,a),K=new D(e,o);F.enableValidation(),G.enableValidation(),K.enableValidation();var Q=new A({name:".profile__name",link:".profile__occupation",avatar:".profile__avatar"}),W=new R({popupSelector:".modal_type_profile",popupSubmit:function(e){var t,n,r;t={name:e.name,link:e.link},n=t.name,r=t.link,ne(!0),z.setUserInfo({name:n,about:r}).then((function(e){u.textContent=e.name,s.textContent=e.about,ne(!1),W.close()})).catch((function(e){return console.log(e)}))}});W.setEventListeners(),t.addEventListener("click",(function(){var e=Q.getUserInfo();c.value=e[0],f.value=e[1],W.open()}));var X,Y=new C(".modal_type_preview");function Z(e){return new d({data:e,handleCardClick:function(e){var t=e.name,n=e.link;Y.open({name:t,link:n})},handleDeleteClick:function(e){te.open(e)},likeHandler:function(e,t){!function(e,t){e.isLiked()?z.removeLike(t).then((function(t){e.updateLikes(t.likes)})).catch((function(e){return console.log(e)})):z.addLike(t).then((function(t){e.updateLikes(t.likes)})).catch((function(e){return console.log(e)}))}(e,t)}},X,"#card-template").generateCard()}function ee(e){event.preventDefault(),ne(!0),z.setUserAvatar(e).then((function(e){h.src=e.avatar,ne(!1),avatarPopup.close()})).catch((function(e){return console.log(e)}))}Y.setEventListeners(),z.getAppInfo().then((function(e){var t=N(e,2),n=t[0],i=t[1];X=n._id,Q.setUserInfo(n.name,n.about,n.avatar),$.renderer(i);var a=new R({popupSelector:".modal_type_add-card",popupSubmit:function(e){z.addCard(e).then((function(e){var t=Z(e);$.addItem(t)}))}});a.setEventListeners(),r.addEventListener("click",(function(){G.disableButton(),a.open()}));var u=new R({popupSelector:".modal_type_avatar",popupSubmit:function(e){ee(e.name)}});u.setEventListeners(),o.addEventListener("click",(function(){u.open()}))}));var te=new R({popupSelector:".modal_type_delete-card",popupSubmit:function(e){var t=N(e,2),n=t[0],r=t[1];event.preventDefault(),ne(!0),z.removeCard(n).then((function(){ne(!1),te.close(),r.remove()})).catch((function(e){return console.log(e)}))}});function ne(e,t){document.querySelector(".modal__form-submit").textContent=e?"Saving...":"Save"}te.setEventListeners()}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL3V0aWxzLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9DYXJkLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9BcGkuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsInAiLCJ2YWxpZGF0aW9uRm9ybSIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwib3BlbkVkaXRQcm9maWxlTW9kYWwiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRNb2RhbCIsImF2YXRhck1vZGFsIiwiZWRpdFByb2ZpbGVNb2RhbCIsImFkZE1vZGFsUG9wdXAiLCJwcm9maWxlTmFtZSIsInByb2ZpbGVPY2N1cGF0aW9uIiwicHJvZmlsZUZvcm0iLCJmb3JtcyIsInByb2ZpbGUiLCJwcm9maWxlRm9ybU5hbWVJbnB1dCIsImVsZW1lbnRzIiwibmFtZSIsInByb2ZpbGVGb3JtT2NjdXBhdGlvbklucHV0Iiwib2NjdXBhdGlvbiIsInByb2ZpbGVBdmF0YXIiLCJDYXJkIiwidXNlcklkIiwidGVtcGxhdGUiLCJkYXRhIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlRGVsZXRlQ2xpY2siLCJsaWtlSGFuZGxlciIsInRoaXMiLCJfbmFtZSIsIl9saW5rIiwibGluayIsIl9vd25lciIsIm93bmVyIiwiX3VzZXJJZCIsIl9saWtlcyIsImxpa2VzIiwiX3RlbXBsYXRlIiwiX2lkIiwiX2hhbmRsZURlbGV0ZUNsaWNrIiwiX2hhbmRsZUNhcmRDbGljayIsIl9saWtlSGFuZGxlciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJzb21lIiwiaXRlbSIsIl9jYXJkTGlrZXMiLCJ0ZXh0Q29udGVudCIsImxlbmd0aCIsImlzTGlrZWQiLCJfbGlrZUJ1dHRvbiIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsInNob3dMaWtlcyIsIl9jYXJkVHJhc2giLCJfZWxlbWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJfZ2V0VGVtcGxhdGUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJzcmMiLCJhbHQiLCJpZCIsIl9zaG93RGVsZXRlSWNvbiIsImNvbnRhaW5lciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImNhcmRzIiwiZm9yRWFjaCIsImFwcGVuZCIsImNhcmRFbGVtZW50IiwicHJlcGVuZCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImUiLCJ3aGljaCIsImNsb3NlIiwidGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cFdpdGhJbWFnZSIsIl9pbWFnZSIsIlBvcHVwV2l0aEZvcm0iLCJwb3B1cFN1Ym1pdCIsIl9wb3B1cFN1Ym1pdCIsIl9mb3JtRWxlbWVudCIsIl9zdWJtaXRFdmVudEhhbmRsZXIiLCJvdXJBcnJheSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJtYXAiLCJpbnB1dCIsInZhbHVlIiwiaW5wdXRTdWJtaXRWYWx1ZSIsIl9nZXRJbnB1dFZhbHVlcyIsIl9pbmZvIiwicmVzZXQiLCJjYXJkSW5mbyIsIlVzZXJJbmZvIiwiYXZhdGFyIiwiX29jY3VwYXRpb24iLCJfYXZhdGFyIiwidXNlckluZm8iLCJGb3JtVmFsaWRhdG9yIiwiY29uZmlnIiwiZm9ybUVsZW1lbnQiLCJfaW5wdXRzIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9pbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJBcnJheSIsImZyb20iLCJfYnV0dG9uIiwiZXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUVycm9yTWVzc2FnZSIsIl9zaG93RXJyb3JNZXNzYWdlIiwiZXZlcnkiLCJkaXNhYmxlZCIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJBcGkiLCJiYXNlVVJMIiwiaGVhZGVycyIsIl9iYXNlVVJMIiwiX2hlYWRlcnMiLCJmZXRjaCIsInRoZW4iLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzVGV4dCIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImFsbCIsImdldFVzZXJJbmZvIiwiZ2V0SW5pdGlhbENhcmRzIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjYXJkSUQiLCJhYm91dCIsImF1dGhvcml6YXRpb24iLCJnZXRFbGVtZW50QnlJZCIsInZlY3RvckltZyIsImFwaSIsImNhcmRTZWN0aW9uIiwiU2VjdGlvbiIsInJlbmRlckNhcmQiLCJlZGl0Rm9ybVZhbGlkYXRvciIsImNhcmRGb3JtVmFsaWRhdG9yIiwiYXZhdGFyRm9ybVZhbGlkYXRvciIsImVuYWJsZVZhbGlkYXRpb24iLCJlZGl0UG9wdXAiLCJsb2FkaW5nTW9kYWwiLCJzZXRVc2VySW5mbyIsInNldEV2ZW50TGlzdGVuZXJzIiwidXNlckRhdGEiLCJvcGVuIiwiaW1hZ2VQb3B1cCIsImRlbGV0ZVBvcHVwIiwicmVtb3ZlTGlrZSIsInVwZGF0ZUxpa2VzIiwiYWRkTGlrZSIsImNhcmRMaWtlQ291bnRlciIsImdlbmVyYXRlQ2FyZCIsImhhbmRsZUF2YXRhciIsInNldFVzZXJBdmF0YXIiLCJhdmF0YXJQb3B1cCIsImdldEFwcEluZm8iLCJjYXJkTGlzdERldGFpbCIsImFkZENhcmRQb3B1cCIsImFkZENhcmQiLCJuZXdDYXJkIiwiYWRkSXRlbSIsImRpc2FibGVCdXR0b24iLCJlbGVtZW50IiwicmVtb3ZlQ2FyZCIsImlzTG9hZGluZyIsIm1vZGFsIl0sIm1hcHBpbmdzIjoiK0ZBQ0lBLEVBQTJCLEdBRy9CLFNBQVNDLEVBQW9CQyxHQUU1QixJQUFJQyxFQUFlSCxFQUF5QkUsR0FDNUMsUUFBcUJFLElBQWpCRCxFQUNILE9BQU9BLEVBQWFFLFFBR3JCLElBQUlDLEVBQVNOLEVBQXlCRSxHQUFZLENBR2pERyxRQUFTLElBT1YsT0FIQUUsRUFBb0JMLEdBQVVJLEVBQVFBLEVBQU9ELFFBQVNKLEdBRy9DSyxFQUFPRCxRQ3JCZkosRUFBb0JPLEVBQUksRyxXQ0F4QixJQUFNQyxFQUFpQixDQUNyQkMsYUFBYyxrQkFDZEMsY0FBZSxxQkFDZkMscUJBQXNCLHNCQUN0QkMsb0JBQXFCLDhCQUNyQkMsZ0JBQWlCLGdDQUNqQkMsV0FBWSw2QkFJUkMsRUFB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Q1g2RixHQURpQyxFQUFuQm5LLFNBSWxCcUssRUFBWVosb0JBRVpuSyxtQkFBNkIsU0FBUyxXQUVwQytLLEVBQVlWLGFBNEJoQixJQUFNRSxHQUFjLElBQUl4RixFQUFjLENBQ3BDWixjQUFlLDBCQUNmYSxZQUFhLFlBQTBCLGFBQXZCbUUsRUFBdUIsS0FBZG9DLEVBQWMsS0FDckM5RCxNQUFNQyxpQkFDTnVDLElBQWEsR0FFYlQsRUFBSWdDLFdBQVdyQyxHQUFRbEIsTUFBSyxXQUUxQmdDLElBQWEsR0FDYk0sR0FBWTdGLFFBQ1o2RyxFQUFRekksWUFHVDBGLE9BQU0sU0FBQUMsR0FBRyxPQUFJQyxRQUFRQyxJQUFJRixTQU05QixTQUFTd0IsR0FBYXdCLEVBQVdDLEdBRTdCN0wsU0FBU0MsY0FBYyx1QkFBdUIwQyxZQUQ3Q2lKLEVBQzJELFlBRUEsT0FQaEVsQixHQUFZSixvQiIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7IiwiY29uc3QgdmFsaWRhdGlvbkZvcm0gPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fcHJvZmlsZVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX190ZXh0LWlucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtLXN1Ym1pdFwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX2Zvcm0tc3VibWl0X2Rpc2FibGVkXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcIi5tb2RhbF9fdGV4dC1pbnB1dF90eXBlX2Vycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXQtZXJyb3JfYWN0aXZlXCIsXHJcbn07XHJcblxyXG4vLyBEZWNsYXJhdGlvbnNcclxuY29uc3Qgb3BlbkVkaXRQcm9maWxlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xyXG5jb25zdCBhZGRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcclxuY29uc3QgYXZhdGFyTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2F2YXRhci1idXR0b25cIik7XHJcbmNvbnN0IGVkaXRQcm9maWxlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX3R5cGVfcHJvZmlsZVwiKTtcclxuY29uc3QgYWRkTW9kYWxQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfdHlwZV9hZGQtY2FyZFwiKTtcclxuY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25hbWVcIik7XHJcbmNvbnN0IHByb2ZpbGVPY2N1cGF0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19vY2N1cGF0aW9uXCIpO1xyXG5jb25zdCBkZWxldGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfdHlwZV9kZWxldGUtY2FyZFwiKTtcclxuY29uc3QgcHJvZmlsZUZvcm0gPSBkb2N1bWVudC5mb3Jtcy5wcm9maWxlO1xyXG5jb25zdCBwcm9maWxlRm9ybU5hbWVJbnB1dCA9IHByb2ZpbGVGb3JtLmVsZW1lbnRzLm5hbWU7XHJcbmNvbnN0IHByb2ZpbGVGb3JtT2NjdXBhdGlvbklucHV0ID0gcHJvZmlsZUZvcm0uZWxlbWVudHMub2NjdXBhdGlvbjtcclxuY29uc3QgZXNjS2V5ID0gMjc7XHJcbmNvbnN0IHByZXZpZXdNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfdHlwZV9wcmV2aWV3XCIpO1xyXG5jb25zdCBwcmV2aWV3SW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZVwiKTtcclxuY29uc3QgcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyXCIpO1xyXG5cclxuLy8gRXhwb3J0c1xyXG5cclxuZXhwb3J0IHtcclxuICBkZWxldGVNb2RhbCxcclxuICBwcm9maWxlQXZhdGFyLFxyXG4gIG9wZW5FZGl0UHJvZmlsZU1vZGFsLFxyXG4gIGFkZE1vZGFsLFxyXG4gIGVkaXRQcm9maWxlTW9kYWwsXHJcbiAgYWRkTW9kYWxQb3B1cCxcclxuICBwcm9maWxlTmFtZSxcclxuICBwcm9maWxlT2NjdXBhdGlvbixcclxuICBwcm9maWxlRm9ybSxcclxuICBwcm9maWxlRm9ybU5hbWVJbnB1dCxcclxuICBwcm9maWxlRm9ybU9jY3VwYXRpb25JbnB1dCxcclxuICB2YWxpZGF0aW9uRm9ybSxcclxuICBwcmV2aWV3TW9kYWwsXHJcbiAgcHJldmlld0ltYWdlLFxyXG4gIGVzY0tleSxcclxuICBhdmF0YXJNb2RhbFxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7ZGF0YSwgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVEZWxldGVDbGljaywgbGlrZUhhbmRsZXJ9LHVzZXJJZCwgdGVtcGxhdGUpIHtcclxuICAgICAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XHJcbiAgICAgICAgdGhpcy5fb3duZXIgPSBkYXRhLm93bmVyO1xyXG4gICAgICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcclxuICAgICAgICB0aGlzLl9saWtlcyA9IGRhdGEubGlrZXM7XHJcblxyXG4gICAgICAgIHRoaXMuX3RlbXBsYXRlID0gdGVtcGxhdGU7XHJcbiAgICAgICAgdGhpcy5faWQgPSBkYXRhLl9pZDtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljayA9IGhhbmRsZURlbGV0ZUNsaWNrXHJcblxyXG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuXHJcbiAgICAgICAgdGhpcy5fbGlrZUhhbmRsZXIgPSBsaWtlSGFuZGxlclxyXG4gICAgfVxyXG5cclxuICAgIGlkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pZDtcclxuICAgIH1cclxuXHJcbiAgICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RlbXBsYXRlKS5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50JykuY2xvbmVOb2RlKHRydWUpO1xyXG5cclxuICAgICAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgaXNMaWtlZCgpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9saWtlcy5zb21lKGl0ZW0gPT4gaXRlbS5faWQgPT09IHRoaXMuX3VzZXJJZCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2hvd0xpa2VzKCl7XHJcbiAgICAgICAgdGhpcy5fY2FyZExpa2VzLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xyXG4gICAgICAgIGlmICh0aGlzLmlzTGlrZWQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2VsZW1lbnRfX2J1dHRvbl9hY3RpdmUnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2VsZW1lbnRfX2J1dHRvbl9hY3RpdmUnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlTGlrZXMobGlrZXMpIHtcclxuICAgICAgICB0aGlzLl9saWtlcyA9IGxpa2VzO1xyXG4gICAgICAgIHRoaXMuc2hvd0xpa2VzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgX3Nob3dEZWxldGVJY29uKCl7IFxyXG4gICAgICAgIGlmKHRoaXMuX293bmVyLl9pZCA9PT0gdGhpcy5fdXNlcklkKXsgXHJcbiAgICAgICAgICAgIHRoaXMuX2NhcmRUcmFzaC5jbGFzc0xpc3QuYWRkKCdlbGVtZW50X19kZWxldGUtYnV0dG9uX2FjdGl2ZScpOyBcclxuICAgICAgICB9IFxyXG4gICAgfVxyXG5cclxuICAgIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19idXR0b24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuX2xpa2VIYW5kbGVyKHRoaXMsIHRoaXMuX2lkKSk7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fZGVsZXRlLWJ1dHRvbicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2soW3RoaXMuX2lkLCB0aGlzLl9lbGVtZW50XSkpO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2ltYWdlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLl9oYW5kbGVDYXJkQ2xpY2soe25hbWU6IHRoaXMuX25hbWUsIGxpbms6IHRoaXMuX2xpbmt9KSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2VuZXJhdGVDYXJkKCkge1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgICAgIHRoaXMuX2NhcmRUcmFzaCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2RlbGV0ZS1idXR0b24nKTtcclxuXHJcbiAgICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fdGV4dCcpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19pbWFnZScpLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9faW1hZ2UnKS5hbHQgPSB0aGlzLl9uYW1lO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQuaWQgPSB0aGlzLl9pZDtcclxuXHJcbiAgICAgICAgdGhpcy5fY2FyZExpa2VzID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fbGlrZXMnKTtcclxuICAgICAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fYnV0dG9uJyk7XHJcblxyXG4gICAgICAgIHRoaXMuX3Nob3dEZWxldGVJY29uKCk7XHJcbiAgICAgICAgdGhpcy5zaG93TGlrZXMoKTtcclxuXHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xyXG4gICAgfVxyXG59IiwiY2xhc3MgU2VjdGlvbiB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lcikge1xyXG4gICAgICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcmVyKGNhcmRzKSB7XHJcbiAgICAgICAgY2FyZHMuZm9yRWFjaCgoaXRlbSkgPT4gdGhpcy5fY29udGFpbmVyLmFwcGVuZCh0aGlzLl9yZW5kZXJlcihpdGVtKSkpO1xyXG4gICAgfVxyXG4gICAgYWRkSXRlbShjYXJkRWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGNhcmRFbGVtZW50KTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNlY3Rpb247IiwiaW1wb3J0IHsgZXNjS2V5IH0gZnJvbSBcIi4vdXRpbHNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBvcGVuKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdtb2RhbF9vcGVuJyk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZSgpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnbW9kYWxfb3BlbicpO1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2hhbmRsZUVzY0Nsb3NlKGUpIHtcclxuICAgICAgICBpZihlLndoaWNoID09IGVzY0tleSkge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbW9kYWxfX2Nsb3NlLWJ1dHRvbicpIHx8IGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbW9kYWxfb3BlbicpKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pICAgICBcclxuICAgIH1cclxufTtcclxuXHJcblxyXG5cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9pbWFnZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZVwiKTtcclxuICAgICAgICB0aGlzLl9uYW1lID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlLWNhcHRpb25cIik7XHJcbiAgICB9XHJcblxyXG4gICAgb3Blbih7bmFtZSwgbGlua30pIHtcclxuICAgICAgICB0aGlzLl9pbWFnZS5zcmMgPSBsaW5rXHJcbiAgICAgICAgdGhpcy5faW1hZ2UuYWx0ID0gbmFtZVxyXG4gICAgICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBuYW1lXHJcbiAgICAgICAgc3VwZXIub3BlbigpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3Ioe3BvcHVwU2VsZWN0b3IsIHBvcHVwU3VibWl0fSkge1xyXG4gICAgICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwU3VibWl0ID0gcG9wdXBTdWJtaXQ7XHJcbiAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnQgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fcHJvZmlsZVwiKTtcclxuICAgICAgICB0aGlzLl9zdWJtaXRFdmVudEhhbmRsZXIgPSB0aGlzLl9zdWJtaXRFdmVudEhhbmRsZXIuYmluZCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICAgICAgaWYodGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fdGV4dC1pbnB1dCcpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG91ckFycmF5ID0gWy4uLnRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubW9kYWxfX3RleHQtaW5wdXQnKV0ubWFwKGlucHV0ID0+IGlucHV0LnZhbHVlKTtcclxuICAgICAgICAgICAgcmV0dXJuIHtuYW1lOiBvdXJBcnJheVswXSwgbGluazogb3VyQXJyYXlbMV19O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfc3VibWl0RXZlbnRIYW5kbGVyKCl7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgaW5wdXRTdWJtaXRWYWx1ZSA9IHRoaXMuX2dldElucHV0VmFsdWVzKCkgfHwgdGhpcy5faW5mbztcclxuICAgICAgICB0aGlzLl9wb3B1cFN1Ym1pdChpbnB1dFN1Ym1pdFZhbHVlKTtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuX3N1Ym1pdEV2ZW50SGFuZGxlcik7XHJcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZSgpIHtcclxuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudC5yZXNldCgpO1xyXG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb3BlbihjYXJkSW5mbyl7XHJcbiAgICAgICAgc3VwZXIub3BlbigpO1xyXG4gICAgICAgIHRoaXMuX2luZm8gPSBjYXJkSW5mbztcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih7IG5hbWUsIGxpbmssIGF2YXRhciB9KSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lKTtcclxuICAgIHRoaXMuX29jY3VwYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGxpbmspO1xyXG4gICAgdGhpcy5fYXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXIpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4gKHRoaXMudXNlckluZm8gPSBbXHJcbiAgICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgIHRoaXMuX29jY3VwYXRpb24udGV4dENvbnRlbnQsXHJcbiAgICAgIHRoaXMuX2F2YXRhci5zcmMsXHJcbiAgICBdKTtcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKG5hbWUsIGxpbmssIGF2YXRhcikge1xyXG4gICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICB0aGlzLl9vY2N1cGF0aW9uLnRleHRDb250ZW50ID0gbGluaztcclxuICAgIHRoaXMuX2F2YXRhci5zcmMgPSBhdmF0YXI7XHJcbiAgfVxyXG59XHJcbiIsIi8vIENsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBjb25maWcuaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gY29uZmlnLmlucHV0RXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBjb25maWcuZXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2VsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuXHJcbiAgICB0aGlzLl9pbnB1dHMgPSBBcnJheS5mcm9tKFxyXG4gICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcilcclxuICAgICk7XHJcbiAgICB0aGlzLl9idXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgX3Nob3dFcnJvck1lc3NhZ2UoaW5wdXQpIHtcclxuICAgIGNvbnN0IGVycm9yID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiI1wiICsgaW5wdXQuaWQgKyBcIi1lcnJvclwiKTtcclxuXHJcbiAgICBlcnJvci50ZXh0Q29udGVudCA9IGlucHV0LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgZXJyb3IuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcclxuICAgIGlucHV0LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICB9XHJcblxyXG4gIF9oaWRlRXJyb3JNZXNzYWdlKGlucHV0KSB7XHJcbiAgICBjb25zdCBlcnJvciA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIiNcIiArIGlucHV0LmlkICsgXCItZXJyb3JcIik7XHJcblxyXG4gICAgZXJyb3IudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgZXJyb3IuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcclxuICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICB9XHJcblxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXQpIHtcclxuICAgIGlmIChpbnB1dC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9oaWRlRXJyb3JNZXNzYWdlKGlucHV0KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX3Nob3dFcnJvck1lc3NhZ2UoaW5wdXQsIGlucHV0LnZhbGlkYXRpb25NZXNzYWdlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG5cclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICBjb25zdCBpc1ZhbGlkID0gdGhpcy5faW5wdXRzLmV2ZXJ5KChpbnB1dCkgPT4gaW5wdXQudmFsaWRpdHkudmFsaWQpO1xyXG5cclxuICAgIGlmIChpc1ZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICB0aGlzLl9idXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICB0aGlzLl9idXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZGlzYWJsZUJ1dHRvbigpe1xyXG4gICAgdGhpcy5fYnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9idXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xyXG4gICAgdGhpcy5faW5wdXRzLmZvckVhY2goaW5wdXQgPT4ge1xyXG4gICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUodGhpcy5fZWxlbWVudCwgdGhpcy5faW5wdXRTZWxlY3Rvcik7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3Rvcih7IGJhc2VVUkwsIGhlYWRlcnMgfSkge1xyXG4gICAgdGhpcy5fYmFzZVVSTCA9IGJhc2VVUkw7XHJcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcclxuICB9XHJcblxyXG4gIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVVJMICsgXCIvY2FyZHNcIiwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4oKHJlcykgPT5cclxuICAgICAgICByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QoXCJFcnJvclwiICsgcmVzLnN0YXR1c1RleHQpXHJcbiAgICAgIClcclxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVSTCArIFwiL3VzZXJzL21lXCIsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKChyZXMpID0+XHJcbiAgICAgICAgcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KFwiRXJyb3JcIiArIHJlcy5zdGF0dXNUZXh0KVxyXG4gICAgICApXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuICB9XHJcblxyXG4gIGdldEFwcEluZm8oKSB7XHJcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW3RoaXMuZ2V0VXNlckluZm8oKSwgdGhpcy5nZXRJbml0aWFsQ2FyZHMoKV0pO1xyXG4gIH1cclxuXHJcbiAgYWRkQ2FyZCh7IG5hbWUsIGxpbmsgfSkge1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVUkwgKyBcIi9jYXJkc1wiLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lLFxyXG4gICAgICAgIGxpbmssXHJcbiAgICAgIH0pLFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4oKHJlcykgPT5cclxuICAgICAgICByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QoXCJFcnJvclwiICsgcmVzLnN0YXR1c1RleHQpXHJcbiAgICAgIClcclxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlQ2FyZChjYXJkSUQpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIGZldGNoKHRoaXMuX2Jhc2VVUkwgKyBcIi9jYXJkcy9cIiArIGNhcmRJRCwge1xyXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICB9KVxyXG4gICAgICAgIC50aGVuKChyZXMpID0+XHJcbiAgICAgICAgICByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QoXCJFcnJvclwiICsgcmVzLnN0YXR1c1RleHQpXHJcbiAgICAgICAgKVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGFkZExpa2UoY2FyZElEKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICBmZXRjaCh0aGlzLl9iYXNlVVJMICsgXCIvY2FyZHMvbGlrZXMvXCIgKyBjYXJkSUQsIHtcclxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgfSlcclxuICAgICAgICAudGhlbigocmVzKSA9PlxyXG4gICAgICAgICAgcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KFwiRXJyb3JcIiArIHJlcy5zdGF0dXNUZXh0KVxyXG4gICAgICAgIClcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICByZW1vdmVMaWtlKGNhcmRJRCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgZmV0Y2godGhpcy5fYmFzZVVSTCArIFwiL2NhcmRzL2xpa2VzL1wiICsgY2FyZElELCB7XHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oKHJlcykgPT5cclxuICAgICAgICAgIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChcIkVycm9yXCIgKyByZXMuc3RhdHVzVGV4dClcclxuICAgICAgICApXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8oeyBuYW1lLCBhYm91dCB9KSB7XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVSTCArIFwiL3VzZXJzL21lL1wiLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogXCJmM2NmNjg5Zi1lOTAzLTRiNWItOWQ3Ny0yYjBiNDA0OGQ0NTVcIixcclxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWUsXHJcbiAgICAgICAgYWJvdXQsXHJcbiAgICAgIH0pLFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4oKHJlcykgPT5cclxuICAgICAgICByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QoXCJFcnJvclwiICsgcmVzLnN0YXR1c1RleHQpXHJcbiAgICAgIClcclxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckF2YXRhcihhdmF0YXIpIHtcclxuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVVJMICsgXCIvdXNlcnMvbWUvYXZhdGFyL1wiLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgYXZhdGFyLFxyXG4gICAgICB9KSxcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKChyZXMpID0+XHJcbiAgICAgICAgcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KFwiRXJyb3JcIiArIHJlcy5zdGF0dXNUZXh0KVxyXG4gICAgICApXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuICB9XHJcbn1cclxuIiwiLy8gSW1wb3J0c1xyXG5cclxuaW1wb3J0IFwiLi4vc3R5bGVzL2luZGV4LmNzc1wiOyAvLyBhZGQgaW1wb3J0IG9mIHRoZSBtYWluIHN0eWxlc2hlZXRzIGZpbGVcclxuaW1wb3J0IHtcclxuICBkZWxldGVNb2RhbCxcclxuICBvcGVuRWRpdFByb2ZpbGVNb2RhbCxcclxuICBhZGRNb2RhbCxcclxuICBlZGl0UHJvZmlsZU1vZGFsLFxyXG4gIGFkZE1vZGFsUG9wdXAsXHJcbiAgcHJvZmlsZU5hbWUsXHJcbiAgcHJvZmlsZU9jY3VwYXRpb24sXHJcbiAgcHJvZmlsZUZvcm1OYW1lSW5wdXQsXHJcbiAgcHJvZmlsZUZvcm1PY2N1cGF0aW9uSW5wdXQsXHJcbiAgdmFsaWRhdGlvbkZvcm0sXHJcbiAgcHJvZmlsZUF2YXRhcixcclxuICBhdmF0YXJNb2RhbCxcclxufSBmcm9tIFwiLi4vc2NyaXB0cy91dGlscy5qc1wiO1xyXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vc2NyaXB0cy9DYXJkLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9zY3JpcHRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9zY3JpcHRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9zY3JpcHRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9zY3JpcHRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9zY3JpcHRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vc2NyaXB0cy9BcGkuanNcIjtcclxuXHJcbi8vIFZpc3VhbCBDb21wb25lbnRzXHJcbmltcG9ydCB2ZWN0b3JJbWcgZnJvbSBcIi4uL2ltYWdlcy9WZWN0b3Iuc3ZnXCI7XHJcblxyXG5jb25zdCB2ZWN0b3JJbWFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidmVjdG9yLWltYWdlXCIpO1xyXG52ZWN0b3JJbWFnZS5zcmMgPSB2ZWN0b3JJbWc7XHJcblxyXG4vLyBEZWNsYXJlIEFQSVxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVVJMOiBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvZ3JvdXAtMTJcIixcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiBcImYzY2Y2ODlmLWU5MDMtNGI1Yi05ZDc3LTJiMGI0MDQ4ZDQ1NVwiLFxyXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgfSxcclxufSk7XHJcblxyXG5jb25zdCBjYXJkU2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxyXG4gIHtcclxuICAgIHJlbmRlcmVyOiByZW5kZXJDYXJkLFxyXG4gIH0sXHJcbiAgXCIuZWxlbWVudHNcIlxyXG4pO1xyXG5cclxuXHJcbi8vIEZvcm0gVmFsaWRhdGlvblxyXG5jb25zdCBlZGl0Rm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Gb3JtLCBlZGl0UHJvZmlsZU1vZGFsKTtcclxuY29uc3QgY2FyZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uRm9ybSwgYWRkTW9kYWxQb3B1cCk7XHJcbmNvbnN0IGF2YXRhckZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uRm9ybSwgYXZhdGFyTW9kYWwpO1xyXG5lZGl0Rm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmNhcmRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuYXZhdGFyRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XHJcbiAgbmFtZTogXCIucHJvZmlsZV9fbmFtZVwiLFxyXG4gIGxpbms6IFwiLnByb2ZpbGVfX29jY3VwYXRpb25cIixcclxuICBhdmF0YXI6IFwiLnByb2ZpbGVfX2F2YXRhclwiLFxyXG59KTtcclxuXHJcblxyXG5cclxuLy8gRWRpdCBQcm9maWxlIFBvcHVwXHJcblxyXG5mdW5jdGlvbiBoYW5kbGVFZGl0QnV0dG9uKHtuYW1lLCBsaW5rfSl7XHJcbiAgbG9hZGluZ01vZGFsKHRydWUsIGVkaXRQb3B1cClcclxuICBhcGkuc2V0VXNlckluZm8oeyBuYW1lOiBuYW1lLCBhYm91dDogbGluayB9KVxyXG4gIC50aGVuKHJlcyA9PiB7XHJcbiAgICBwcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IHJlcy5uYW1lO1xyXG4gICAgcHJvZmlsZU9jY3VwYXRpb24udGV4dENvbnRlbnQgPSByZXMuYWJvdXQ7XHJcbiAgICBsb2FkaW5nTW9kYWwoZmFsc2UsIGVkaXRQb3B1cCk7XHJcbiAgICBlZGl0UG9wdXAuY2xvc2UoKTtcclxuICB9KVxyXG4gIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSlcclxufVxyXG5cclxuY29uc3QgZWRpdFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gIHBvcHVwU2VsZWN0b3I6IFwiLm1vZGFsX3R5cGVfcHJvZmlsZVwiLFxyXG4gIHBvcHVwU3VibWl0OiAoeyBuYW1lICwgbGluayB9KSA9PiB7XHJcbiAgICBoYW5kbGVFZGl0QnV0dG9uKHsgbmFtZSAsIGxpbmsgfSk7XHJcbiAgfSxcclxufSk7XHJcblxyXG5lZGl0UG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbm9wZW5FZGl0UHJvZmlsZU1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgY29uc3QgdXNlckRhdGEgPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xyXG4gIHByb2ZpbGVGb3JtTmFtZUlucHV0LnZhbHVlID0gdXNlckRhdGFbMF07XHJcbiAgcHJvZmlsZUZvcm1PY2N1cGF0aW9uSW5wdXQudmFsdWUgPSB1c2VyRGF0YVsxXTtcclxuICBlZGl0UG9wdXAub3BlbigpO1xyXG59KTtcclxuXHJcblxyXG5cclxuLy8gUHJldmlldyBJbWFnZSBQb3B1cFxyXG5jb25zdCBpbWFnZVBvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiLm1vZGFsX3R5cGVfcHJldmlld1wiKTtcclxuaW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuZnVuY3Rpb24gcmVuZGVyQ2FyZChkYXRhKSB7XHJcbiAgbGV0IG91ckNhcmQgPSBuZXcgQ2FyZChcclxuICAgIHtcclxuICAgICAgZGF0YSxcclxuICAgICAgaGFuZGxlQ2FyZENsaWNrOiAoeyBuYW1lLCBsaW5rIH0pID0+IHtcclxuICAgICAgICBpbWFnZVBvcHVwLm9wZW4oeyBuYW1lLCBsaW5rIH0pO1xyXG4gICAgICB9LFxyXG4gICAgICBoYW5kbGVEZWxldGVDbGljazogKGNhcmRJbmZvKSA9PiB7XHJcbiAgICAgICAgZGVsZXRlUG9wdXAub3BlbihjYXJkSW5mbyk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGxpa2VIYW5kbGVyOiAoY2FyZEVsZW1lbnQsIGNhcmRJRCkgPT4ge1xyXG4gICAgICAgIGNhcmRMaWtlQ291bnRlcihjYXJkRWxlbWVudCwgY2FyZElEKTtcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgICB1c2VySWQsXHJcbiAgICBcIiNjYXJkLXRlbXBsYXRlXCJcclxuICApO1xyXG4gIHJldHVybiBvdXJDYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG59XHJcblxyXG5cclxuLy8gQ2FyZCBMaWtlc1xyXG5mdW5jdGlvbiBjYXJkTGlrZUNvdW50ZXIoY2FyZEVsZW1lbnQsIGNhcmRJRCkge1xyXG4gIGlmIChjYXJkRWxlbWVudC5pc0xpa2VkKCkpIHtcclxuICAgIGFwaVxyXG4gICAgICAucmVtb3ZlTGlrZShjYXJkSUQpXHJcbiAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICBjYXJkRWxlbWVudC51cGRhdGVMaWtlcyhyZXMubGlrZXMpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGFwaVxyXG4gICAgICAuYWRkTGlrZShjYXJkSUQpXHJcbiAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICBjYXJkRWxlbWVudC51cGRhdGVMaWtlcyhyZXMubGlrZXMpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuLy8gQWRkIENhcmQgYW5kIEF2YXRhciBQb3B1cFxyXG5hcGkuZ2V0QXBwSW5mbygpLnRoZW4oKFt1c2VyRGF0YSwgY2FyZExpc3REZXRhaWxdKSA9PiB7XHJcbiAgdXNlcklkID0gdXNlckRhdGEuX2lkO1xyXG4gIHVzZXJJbmZvLnNldFVzZXJJbmZvKHVzZXJEYXRhLm5hbWUsIHVzZXJEYXRhLmFib3V0LCB1c2VyRGF0YS5hdmF0YXIpO1xyXG4gIGNhcmRTZWN0aW9uLnJlbmRlcmVyKGNhcmRMaXN0RGV0YWlsKTtcclxuXHJcbiAgY29uc3QgYWRkQ2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gICAgcG9wdXBTZWxlY3RvcjogXCIubW9kYWxfdHlwZV9hZGQtY2FyZFwiLFxyXG4gICAgcG9wdXBTdWJtaXQ6IChkYXRhKSA9PiB7XHJcbiAgICAgIGFwaS5hZGRDYXJkKGRhdGEpLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIGNvbnN0IG5ld0NhcmQgPSByZW5kZXJDYXJkKHJlcyk7XHJcbiAgICAgICAgY2FyZFNlY3Rpb24uYWRkSXRlbShuZXdDYXJkKTtcclxuICAgICAgfSk7XHJcbiAgICB9LFxyXG4gIH0pO1xyXG4gIGFkZENhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIGFkZE1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBjYXJkRm9ybVZhbGlkYXRvci5kaXNhYmxlQnV0dG9uKCk7XHJcbiAgICBhZGRDYXJkUG9wdXAub3BlbigpO1xyXG4gIH0pO1xyXG5cclxuICBjb25zdCBhdmF0YXJQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuICAgIHBvcHVwU2VsZWN0b3I6IFwiLm1vZGFsX3R5cGVfYXZhdGFyXCIsXHJcbiAgICBwb3B1cFN1Ym1pdDogKHsgbmFtZTogYXZhdGFyIH0pID0+IHtcclxuICAgICAgaGFuZGxlQXZhdGFyKGF2YXRhcilcclxuICAgIH0sXHJcbiAgfSk7XHJcbiAgYXZhdGFyUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICBcclxuICBhdmF0YXJNb2RhbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgLy8gYXZhdGFyRm9ybVZhbGlkYXRvci5kaXNhYmxlQnV0dG9uKCk7XHJcbiAgICBhdmF0YXJQb3B1cC5vcGVuKCk7XHJcbiAgICBcclxuICB9KTtcclxuICBcclxufSk7XHJcblxyXG5cclxuXHJcblxyXG5sZXQgdXNlcklkO1xyXG5cclxuXHJcbi8vIEF2YXRhciBQb3B1cCBIYW5kbGVyXHJcbmZ1bmN0aW9uIGhhbmRsZUF2YXRhcihhdmF0YXIpe1xyXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgbG9hZGluZ01vZGFsKHRydWUsIHByb2ZpbGVBdmF0YXIpO1xyXG5cclxuICBhcGkuc2V0VXNlckF2YXRhcihhdmF0YXIpXHJcbiAgLnRoZW4ocmVzID0+IHtcclxuICAgIHByb2ZpbGVBdmF0YXIuc3JjID0gcmVzLmF2YXRhcjtcclxuICAgIGxvYWRpbmdNb2RhbChmYWxzZSwgcHJvZmlsZUF2YXRhcik7XHJcbiAgICBhdmF0YXJQb3B1cC5jbG9zZSgpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxufVxyXG5cclxuXHJcbi8vIERlbGV0ZSBDYXJkIFBvcHVwXHJcbmNvbnN0IGRlbGV0ZVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gIHBvcHVwU2VsZWN0b3I6IFwiLm1vZGFsX3R5cGVfZGVsZXRlLWNhcmRcIixcclxuICBwb3B1cFN1Ym1pdDogKFsgY2FyZElEICwgZWxlbWVudCBdKSA9PiB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgbG9hZGluZ01vZGFsKHRydWUsIGRlbGV0ZU1vZGFsKTtcclxuICAgIFxyXG4gICAgYXBpLnJlbW92ZUNhcmQoY2FyZElEKS50aGVuKCgpID0+IHtcclxuICAgICAgXHJcbiAgICAgIGxvYWRpbmdNb2RhbChmYWxzZSwgZGVsZXRlTW9kYWwpO1xyXG4gICAgICBkZWxldGVQb3B1cC5jbG9zZSgpO1xyXG4gICAgICBlbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgICBcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG4gIH1cclxufSlcclxuZGVsZXRlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vIExvYWRpbmcgVUlcclxuZnVuY3Rpb24gbG9hZGluZ01vZGFsKGlzTG9hZGluZywgbW9kYWwpe1xyXG4gIGlmKGlzTG9hZGluZykge1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19mb3JtLXN1Ym1pdCcpLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcclxuICB9IGVsc2Uge1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19mb3JtLXN1Ym1pdCcpLnRleHRDb250ZW50ID0gXCJTYXZlXCI7XHJcbiAgfVxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==